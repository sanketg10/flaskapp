var webengage=window.webengage||{};var _weq=window._weq||{};(function(a){var b={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(r){if(r==null){return""}var t="";var i,m,o,l,n,p,q;var s=0;r=b.compress(r);while(s<r.length*2){if(s%2==0){i=r.charCodeAt(s/2)>>8;m=r.charCodeAt(s/2)&255;if(s/2+1<r.length){o=r.charCodeAt(s/2+1)>>8}else{o=NaN}}else{i=r.charCodeAt((s-1)/2)&255;if((s+1)/2<r.length){m=r.charCodeAt((s+1)/2)>>8;o=r.charCodeAt((s+1)/2)&255}else{m=o=NaN}}s+=3;l=i>>2;n=((i&3)<<4)|(m>>4);p=((m&15)<<2)|(o>>6);q=o&63;if(isNaN(m)){p=q=64}else{if(isNaN(o)){q=64}}t=t+b._keyStr.charAt(l)+b._keyStr.charAt(n)+b._keyStr.charAt(p)+b._keyStr.charAt(q)}return t},decompressFromBase64:function(u){if(u==null){return""}var z="",w=0,v,f,p,r,i,q,s,t,y=0,x=b._f;u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(y<u.length){i=b._keyStr.indexOf(u.charAt(y++));q=b._keyStr.indexOf(u.charAt(y++));s=b._keyStr.indexOf(u.charAt(y++));t=b._keyStr.indexOf(u.charAt(y++));f=(i<<2)|(q>>4);p=((q&15)<<4)|(s>>2);r=((s&3)<<6)|t;if(w%2==0){v=f<<8;if(s!=64){z+=x(v|p)}if(t!=64){v=r<<8}}else{z=z+x(v|f);if(s!=64){v=p<<8}if(t!=64){z+=x(v|r)}}w+=3}return b.decompress(z)},compress:function(B){if(B==null){return""}var z,w,u={},v={},t="",D="",f="",C=2,A=3,E=2,i="",F=0,y=0,s,x=b._f;for(s=0;s<B.length;s+=1){t=B.charAt(s);if(!Object.prototype.hasOwnProperty.call(u,t)){u[t]=A++;v[t]=true}D=f+t;if(Object.prototype.hasOwnProperty.call(u,D)){f=D}else{if(Object.prototype.hasOwnProperty.call(v,f)){if(f.charCodeAt(0)<256){for(z=0;z<E;z++){F=(F<<1);if(y==15){y=0;i+=x(F);F=0}else{y++}}w=f.charCodeAt(0);for(z=0;z<8;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}else{w=1;for(z=0;z<E;z++){F=(F<<1)|w;if(y==15){y=0;i+=x(F);F=0}else{y++}w=0}w=f.charCodeAt(0);for(z=0;z<16;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}delete v[f]}else{w=u[f];for(z=0;z<E;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}u[D]=A++;f=String(t)}}if(f!==""){if(Object.prototype.hasOwnProperty.call(v,f)){if(f.charCodeAt(0)<256){for(z=0;z<E;z++){F=(F<<1);if(y==15){y=0;i+=x(F);F=0}else{y++}}w=f.charCodeAt(0);for(z=0;z<8;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}else{w=1;for(z=0;z<E;z++){F=(F<<1)|w;if(y==15){y=0;i+=x(F);F=0}else{y++}w=0}w=f.charCodeAt(0);for(z=0;z<16;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}delete v[f]}else{w=u[f];for(z=0;z<E;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}}w=2;for(z=0;z<E;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}while(true){F=(F<<1);if(y==15){i+=x(F);break}else{y++}}return i},decompress:function(y){if(y==null){return""}if(y==""){return null}var u=[],z,D=4,x=4,A=3,f="",G="",B,i,c,H,F,E,v,w=b._f,C={string:y,val:y.charCodeAt(0),position:32768,index:1};for(B=0;B<3;B+=1){u[B]=B}c=0;F=Math.pow(2,2);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}switch(z=c){case 0:c=0;F=Math.pow(2,8);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}v=w(c);break;case 1:c=0;F=Math.pow(2,16);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}v=w(c);break;case 2:return""}u[3]=v;i=G=v;while(true){if(C.index>C.string.length){return""}c=0;F=Math.pow(2,A);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}switch(v=c){case 0:c=0;F=Math.pow(2,8);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}u[x++]=w(c);v=x-1;D--;break;case 1:c=0;F=Math.pow(2,16);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}u[x++]=w(c);v=x-1;D--;break;case 2:return G}if(D==0){D=Math.pow(2,A);A++}if(u[v]){f=u[v]}else{if(v===x){f=i+i.charAt(0)}else{return null}}G+=f;u[x++]=i+f.charAt(0);D--;i=f;if(D==0){D=Math.pow(2,A);A++}}}};a.LZString=b})(webengage);webengage.eLog=function(f,h,d,b,j,c){if(f instanceof Error){d=f.stack||f.description;d=(d.length>900?d.substring(0,900):d);b=f.message||d.substring(0,50);h="exception"}if(h){if(c&&j){var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"', 'et':'"+j+"', 'eid':'"+c+"'}"}else{var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"'}"}var g=(h==="error"?"//c.webengage.com/e.jpg":"//c.webengage.com/e.jpg");if(webengage.winUnloading&&h==="error"){return}var i=new Image();i.src=g+"?event="+encodeURIComponent(b)+"&category="+webengage.getLicenseCode()+"&type="+h+"&data="+encodeURIComponent(a)+"&ts="+(new Date()).getTime()}};webengage.withELog=function(c,a,b){if(typeof c==="function"){try{if(!(a instanceof Array)){a=[]}return c.apply(undefined,a)}catch(d){webengage.eLog(d);if(!b){throw d}}}else{throw new Error("WithELog : first argument not a function")}};webengage.setTimeout=function(a,b){return setTimeout(function(){webengage.withELog(a)},b)};webengage.setInterval=function(b,a){return setInterval(function(){webengage.withELog(b)},a)};webengage.setTimeout(function(){(function(d,a,c,e){var b=function(){var r=null,L=new Date(),O="",S=function(X,W,U){var V=(typeof(U)==="boolean"?U:true);for(var T in W){if(X[T]===e||V){X[T]=W[T]}}return X},f={},v=[],m=[],h=false,l=d._weq||{};l["webengage.enableCallbacks"]=true;var j={};S(c,{events:(function(){var T={we_wk_pageDelay:function(){var U=Array.prototype.slice.call(arguments);for(var V=0;V<U.length;V++){(function(W){if(typeof W==="number"){setTimeout(function(){c.dump("pageDelay",{value:W+1},{})},W)}})(U[V])}},we_wk_totalTimeOnSite:function(){var U=Array.prototype.slice.call(arguments);for(var V=0;V<U.length;V++){(function(W){if(typeof W==="number"){var X=W-(new Date().getTime()-c.util.getSessionCookie().sst);setTimeout(function(){c.dump("totalTimeOnSite",{value:W+1},{})},X>0?X:0)}})(U[V])}},click:function(W,Y,X){var V=a.getElementsByClassName(W);var U=function(){c.events.publish("click",{"class":W},{});if(typeof Y==="function"){Y()}if(!X){c.events.unbind(V.length?V[0]:V,"click",U)}};if(V){c.events.bind(V.length?V[0]:V,"click",U)}},we_wk_leaveIntent:function(aa){if(d){var Y=d;var X=a;var W=a.getElementsByTagName("body")[0];var Z={x:0,y:0};var U=function(ac){ac=ac?ac:Y.event;var ad=ac.relatedTarget||ac.toElement;var ab;if(!Y.innerHeight){ab=Math.min(X.documentElement.clientHeight,W.clientHeight)/5}else{ab=Y.innerHeight/5}if((!ad||ad.nodeName=="HTML")&&ac.clientY<=0&&(Z.y<=0||Z.y<ab)){c.events.unbind(X.documentElement,"mouseleave",U);c.events.unbind(X.documentElement,"mousemove",V);c.dump("leaveIntent",{happened:true},{});if(typeof aa==="function"){aa()}}};var V=function(ab){Z.x=ab.clientX;Z.y=ab.clientY};c.events.bind(X.documentElement,"mouseleave",U);c.events.bind(X.documentElement,"mousemove",V)}},we_wk_scrollPercentage:function(){var W=Math.min.apply(null,arguments);var ab=Math.max.apply(null,arguments);var Z=a.getElementsByTagName("body")[0];function aa(){return d.innerHeight||a.documentElement.clientHeight||a.body.clientHeight||0}function Y(){return d.pageYOffset||a.body.scrollTop||a.documentElement.scrollTop||0}function U(){return Math.max(a.body.scrollHeight||0,a.documentElement.scrollHeight||0,a.body.offsetHeight||0,a.documentElement.offsetHeight||0,a.body.clientHeight||0,a.documentElement.clientHeight||0)}function V(){return((Y()+aa())/U())*100}function X(ad){var ac=V();if(ac>=W){setTimeout(function(){c.dump("scrollPercentage",{value:ac},{})},0);if(ac>=ab){c.events.unbind(d,"scroll",X)}}}c.events.bind(d,"scroll",X)}};return{bind:function(U,V,W){if(U.addEventListener){U.addEventListener(V,W)}else{if(U.attachEvent){U.attachEvent("on"+V,W)}}},unbind:function(U,V,W){if(U.removeEventListener){U.removeEventListener(V,W)}else{if(U.detachEvent){U.detachEvent("on"+V,W)}}},publish:function(V,W){if(this.cache[V]){for(var U=0;U<this.cache[V].length;U++){this.cache[V][U].apply(null,[V,W])}}},subscribe:function(U,V){if(!this.cache){this.cache={}}if(!this.cache[U]){this.cache[U]=[]}this.cache[U].push(V);return[U,V]},unsubscribe:function(W){var V=W[0];if(this.cache[V]){for(var U=0;U<this.cache[V].length;U++){if(this.cache[V][U]===W[1]){this.cache[V].splice(U,1)}}}},clearCallbacks:function(){this.cache={}},register:function(){var V=Array.prototype.slice.call(arguments),U=V.shift();if(T[U]){T[U].apply(null,V)}},subscriber:function(U,V){j[U]=typeof V==="undefined"?{}:V;c.UserProfile.updateEventCriterias(U,V);c.events.publish("storeChange")}}})()},true);var G={we_email:"email",we_birth_date:"birth_date",we_phone:"phone",we_gender:"gender",we_first_name:"first_name",we_last_name:"last_name",we_company:"company"};function u(){S(c,{user:{identify:function(T){c.user.login(T)},login:function(U){var T=c.util.getWebengageCookie();if(Object.prototype.toString.call(U)!=="[object String]"){U=c.util.stringify(U)}if(!U||T.cuid===U){return}else{if(T.cuid!=null){c.user.logout();T=c.util.getWebengageCookie()}}T.cuid=U;c.util.setWebengageCookie(T);c.dump("user_logged_in",null,{})},logout:function(){var T=c.util.getWebengageCookie();if(T.cuid!=null){c.dump("user_logged_out",null,{})}c.util.setWebengageCookie(null);c.util.setSessionCookie(null,true);c.util.updateTPVC();c.util.setGZIPFlag(T.isGzip);c.util.usckwl(webengage_fs_configurationMap.domain);c.util.setLST();c.dump("visitor_new_session",null,{lp:a.location.href});c.util.setVTD()},setAttribute:function(X,aa){var V=c.util.getWebengageCookie(),W=V.uattr||{},af={},T={},Z=false,ac=Object.prototype.toString.call(X),Y,U,ad;if(ac==="[object String]"){Y={};Y[X]=aa}else{if(ac==="[object Object]"){Y=X}}var ab=function(ag){d.console&&d.console.log&&d.console.log("[webengage] user.setAttribute "+ag)};for(var ae in Y){if(!Y.hasOwnProperty(ae)){continue}ad=Y[ae];ac=Object.prototype.toString.call(ad);if(ac!=="[object Number]"&&ac!=="[object Boolean]"&&ac!=="[object String]"&&ac!=="[object Date]"){ab('value of unsupported type passed for "'+ae+'"');continue}U=G[ae]||G["we_"+ae];if(U){if(U==="birth_date"){ad=c.util.fromDateISOString(ad+"T00:00:00.000Z");if(ad.toString()==="Invalid Date"){ab('invalid value for "'+ae+'"');continue}}else{if(U==="gender"&&ad!=="male"&&ad!=="female"&&ad!=="other"){ab('invalid value for "'+ae+'"');continue}else{if(U==="email"&&!c.util.isValidEmail(ad)){ab('invalid value for "'+ae+'"');continue}}}if(ae.indexOf("we_")===0){if(ad===W[ae]){continue}}else{if(ad===W["we_"+ae]){continue}}T[U]=ad;if(ae.indexOf("we_")===0){W[ae]=ad}else{W["we_"+ae]=ad}Z=true}else{if(ae.indexOf("we_")!==0){if(ad===W[ae]){continue}af[ae]=ad;W[ae]=ad;Z=true}}}if(Z){V.uattr=W;c.util.setWebengageCookie(V);c.dump("user_update",af,T)}}}},true);c.track=function(T,U){if(Object.prototype.toString.call(T)==="[object String]"&&T.indexOf("we_")!==0){c.dump(T,U)}}}S(c,{util:{copy:function(V,U,T){return S(V,U,T)},loadScript:function(W,X,T,Y){var V=a.createElement("script");V.type="text/javascript";V.charset="UTF-8";V.async=true;V.src=W;V.callBack=X;V.callBackArgs=T||[];V.errorCallBack=Y;this.appendChild(V);if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11&&V.readyState){if(typeof X==="function"){var U=function(){if(V.readyState=="loaded"||V.readyState=="complete"){c.withELog(X,T)}};V.defer=true;V.onreadystatechange=U}}else{c.util.addListener(V,"load",function(Z){c.withELog(X,T)});c.util.addListener(V,"error",function(Z){if(c.getWidgetVersion()!=="3.0"){c.eLog(null,"error","could not load - "+W,"script loading error")}if(typeof Y==="function"){c.withELog(Y,[Z])}})}},createObj:function(U){var V=c,T=U?U.split("."):[];for(var W=0;W<T.length;W++){var Y=T[W],X=V[Y];if(!X){X={};V[Y]=X}V=X}return V},extend:function(T,U){return c.util.copy((typeof T=="string"?c.util.createObj(T):T),U)},isJqueryPresent:function(){return(d.jQuery!==e&&parseFloat("."+d.jQuery().jquery.replace(/\./g,""))>=0.13)},applyCss:function(V,U){try{for(var T in U){if(typeof U[T]=="function"){V.style[T]=U[T]()}else{V.style[T]=U[T]}}}catch(W){}return V},isArray:function(T){return(T&&T.constructor==Array)},inArray:function(T,V){for(var U=0;U<T.length;U++){if(T[U]==V){return true}}return false},indexOfArray:function(Z,V,W){if(Z.indexOf){return Z.indexOf(V,W)}var U;if(Z==null){throw new TypeError('"array" is null or not defined')}var X=Object(Z);var T=X.length>>>0;if(T===0){return -1}var Y=+W||0;if(Math.abs(Y)===Infinity){Y=0}if(Y>=T){return -1}U=Math.max(Y>=0?Y:T-Math.abs(Y),0);while(U<T){if(U in X&&X[U]===V){return U}U++}return -1},toDateISOString:function(T){if(T.toISOString){return T.toISOString()}function U(V){if(V<10){return"0"+V}return V}return T.getUTCFullYear()+"-"+U(T.getUTCMonth()+1)+"-"+U(T.getUTCDate())+"T"+U(T.getUTCHours())+":"+U(T.getUTCMinutes())+":"+U(T.getUTCSeconds())+"."+(T.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+"Z"},fromDateISOString:function(V){var T=V.split(/[\-TZ:\.]/),U=new Date();U.setUTCDate(T[2]);U.setUTCMonth(parseInt(T[1])-1);U.setUTCFullYear(T[0]);if(T[3]){U.setUTCHours(T[3])}if(T[4]){U.setUTCMinutes(T[4])}if(T[5]){U.setUTCSeconds(T[5])}if(T[6]){U.setUTCMilliseconds(T[6])}return U},getMaxZIndex:function(){if(this.maxZIndex===e){this.maxZIndex=16776271}return this.maxZIndex++},alignCenter:function(W,V,U){var T=(U=="left")?"right":"left";W.style.top=((parseInt(c.util.getElementHeight(V),10)-parseInt(c.util.getElementHeight(W),10))/2-(/Firefox/i.test(navigator.userAgent)?7:0))+"px";W.style[T]=(parseInt(c.util.getElementWidth(V),10)-parseInt(c.util.getElementWidth(W),10))/2+10+"px"},getElementWidth:function(T){if(T.clip!==e){return T.clip.width}else{if(T.style.pixelWidth){return T.style.pixelWidth}else{return T.offsetWidth}}},getElementHeight:function(T){if(T.clip!==e){return T.clip.height}else{if(T.style.pixelHeight){return T.style.pixelHeight}else{return T.offsetHeight}}},isSupportsLocalStorage:function(V){try{var T=(typeof(Storage)!=="undefined"&&"localStorage" in d&&d.localStorage!==null);if(!V&&T){d.localStorage["_we_dm_ios_sup_f_"]="true";d.localStorage.removeItem("_we_dm_ios_sup_f_")}return T}catch(U){return false}},getWindowHeight:function(){return parseInt("innerHeight" in d?d.innerHeight:a.documentElement.offsetHeight)},getWindowWidth:function(){return parseInt("innerWidth" in d?d.innerWidth:a.documentElement.offsetWidth)},getDocumentHeight:function(){var T=a.body,U=a.documentElement;return Math.max(T.scrollHeight,T.offsetHeight,U.clientHeight,U.scrollHeight,U.offsetHeight)},getDocumentWidth:function(){var T=a.body,U=a.documentElement;return Math.max(T.scrollWidth,T.offsetWidth,U.clientWidth,U.scrollWidth,U.offsetWidth)},getInitParamValue:function(T,X,U,W){var V=U!==e?U:null;if(T&&T[X]){var Y=T[X];if(W){if(c.util.inArray(W,Y)){V=Y}}else{V=Y}}return V},getInitParamValueAsArray:function(T,Z,W,Y){var X=c.util.getInitParamValue(T,Z,W);if(X&&typeof(X)!="object"){X=X.split(/\s*,\s*/)}if(Y&&typeof(Y)=="object"){var U=[];for(var V=0;V<X.length;V++){if(c.util.inArray(Y,X[V])){U[U.length]=X[V]}}X=U}return X},setCookie:function(U,aa,V,ac,X,T,W){if(c.util.isSupportsLocalStorage()&&!W){try{d.localStorage[U]=aa;c.frameSync.set(U,aa);return"ls"}catch(Y){d.localStorage.removeItem(U);return c.util.setCookie(U,aa,V,ac,X,T,true)}}else{if(c.util.isSupportsLocalStorage(true)&&!W){d.localStorage.removeItem(U)}var Z=new Date();Z.setTime(Z.getTime());if(V){V=V*1000*60*60*24}var ab=new Date(Z.getTime()+(V));a.cookie=U+"="+encodeURIComponent(aa)+((V)?";expires="+ab.toGMTString():"")+((ac)?";path="+ac:"")+((X)?";domain="+X:"")+((T)?";secure":"");return"ck"}},getCookie:function(U,W){if(c.util.isSupportsLocalStorage(true)&&!W){return(d.localStorage[U]?d.localStorage[U]:c.util.getCookie(U,true))}else{var aa=a.cookie.split(";");var V="";var Y="";var Z="";var X=false;for(var T=0;T<aa.length;T++){V=aa[T].split("=");Y=V[0].replace(/^\s+|\s+$/g,"");if(Y==U){X=true;if(V.length>1){Z=decodeURIComponent(V[1].replace(/^\s+|\s+$/g,""))}return Z===null?"":Z}V=null;Y=""}if(!X){return null}}},addListener:function(T,U,V){if(T.addEventListener){T.addEventListener(U,V,false)}else{if(T.attachEvent){T.attachEvent("on"+U,V)}}},removeListener:function(T,U,V){if(T.removeEventListener){T.removeEventListener(U,V)}else{if(T.detachEvent){T.detachEvent("on"+U,V)}}},bindEvent:function(T,U){c.util.addListener(d,T,U)},unbindEvent:function(T,U){c.util.removeListener(d,T,U)},getCurrentTime:function(U){var X=new Date();var V=X.getTime();if(U!==e){var W=X.getTimezoneOffset()*60000;var T=V+W;V=T+(1000*U)}return V},getCurrentWeekDay:function(U){var T=k.getCurrentTime();var V=new Date(T);return V.getDay()},setWebengageCookie:function(U){var W=U||{};if(!W.luid){W.luid=this.generateLUID()}if(!W.time){W.time=(new Date()).getTime()}W.lmts=(new Date()).getTime();var V=W.uattr;if(V){V=W.uattr;W.uattr=k.transitConvert(V)}var T=this.stringify(W);if(V){W.uattr=V}this.setWebengageCookieCache(W);this.setCookie("_we_wk_ls_",c.LZString.compressToBase64(T),99999,"/","","");if(this.firstTimeUser===e){this.firstTimeUser=true}return W},setWebengageCookieCache:function(T){if(T){if(typeof T==="string"){if(T.charAt(0)!=="{"){T=c.LZString.decompressFromBase64(T)}T=c.util.parseJSON(T);if(T.uattr){T.uattr=k.transitUnconvert(T.uattr)}}}else{T=this.getWebengageCookieHelper()}f._we_wk_ls_=T},getWebengageCookieHelper:function(V){var T={};var U=this.getCookie("_we_wk_ls_")||this.getCookie("_we_wk_ls_",true);if(U){if(U.charAt(0)!=="{"){U=c.LZString.decompressFromBase64(U)}if(this.isSupportsLocalStorage()&&this.getCookie("_we_wk_ls_",true)){this.setCookie("_we_wk_ls_",U,-1,"/","","",true);this.setCookie("_we_wk_ls_",U,99999,"/","","")}T=new Function("return "+U)()||null;if(T.uattr){T.uattr=k.transitUnconvert(T.uattr)}}else{if(!V){T=this.setWebengageCookie()}}return T},getWebengageCookie:function(U){if(U){var T=this.getWebengageCookieHelper(U);if(T&&T.lmts&&f._we_wk_ls_&&f._we_wk_ls_["lmts"]){if(T.lmts>f._we_wk_ls_["lmts"]){f._we_wk_ls_=T;this.setWebengageCookie(f._we_wk_ls_)}}}if(f._we_wk_ls_){return f._we_wk_ls_}else{return this.getWebengageCookieHelper()}},setSessionCookie:function(W,Y){var U={referrer:a.referrer,isFirstTime:this.isFirstTimeUser(),sst:(new Date()).getTime(),pvc:0,suid:(new Date().getTime()),landingPage:d.location.href};var V=W||{};V=this.copy(V,U,false);if(!this.isSupportsLocalStorage()&&V.landingPage){delete V.landingPage}V.lmts=(new Date()).getTime();V.chckURL=d.location.href.substring(0,100);var X=V.upf;if(X){V.upf=k.transitConvert(X)}var Z=this.stringify(V);if(X){V.upf=X}this.setSessionCookieCache(V);var T=this.setCookie("_we_wk_ss_",c.LZString.compressToBase64(Z),"","/","","");if(this.isSupportsLocalStorage()){if(T==="ls"){this.setCookie("_we_wk_ss_lsf_",true,"","/","","",true)}else{this.setCookie("_we_wk_ss_lsf_",false,"","/","","",true)}}if(typeof Y==="boolean"&&true){this.updateTSC()}return V},setSessionCookieCache:function(U){if(this.lmts){if(f._we_wk_ss_&&f._we_wk_ss_.lmts&&this.lmts<f._we_wk_ss_.lmts){this.lmts=f._we_wk_ss_.lmts}var T=this.getWebengageCookie();T.lao=this.lmts;this.setWebengageCookie(T);this.lmts=null}if(U){if(typeof U==="string"){if(U.charAt(0)!=="{"){U=c.LZString.decompressFromBase64(U)}U=c.util.parseJSON(U);if(U.upf){U.upf=k.transitUnconvert(U.upf)}}}else{U=this.getSessionCookieHelper()}f._we_wk_ss_=U},getSessionCookieHelper:function(X){var U={};var Y=this.getCookie("_we_wk_ss_")||this.getCookie("_we_wk_ss_",true);if(Y){try{if(Y.charAt(0)!=="{"){Y=c.LZString.decompressFromBase64(Y)}if(this.isSupportsLocalStorage()){var W=this.getCookie("_we_wk_ss_lsf_",true);if(!W){U=this.parseJSON(Y);this.lmts=U.lmts}if(!W||W==="false"){var T=this.getCookie("_we_wk_ss_",true);if(T){this.setCookie("_we_wk_ss_",Y,-1,"/","","",true);this.setSessionCookie(T)}else{throw new Error()}}}U=(new Function("return "+Y)())||null;if(U.upf){U.upf=k.transitUnconvert(U.upf)}}catch(V){U=this.setSessionCookie(null,true)}}else{if(!X){U=this.setSessionCookie(null,true)}}return U},getSessionCookie:function(U){if(U){var T=this.getSessionCookieHelper(U);if(T&&T.lmts&&f._we_wk_ss_&&f._we_wk_ss_["lmts"]){if(T.lmts>f._we_wk_ss_["lmts"]){f._we_wk_ss_=T;this.setSessionCookie(f._we_wk_ss_)}}}if(f._we_wk_ss_){return f._we_wk_ss_}else{return this.getSessionCookieHelper()}},updateSessionCookie:function(U){var T=this.getSessionCookie();if(T){this.copy(T,(U||{}));this.setSessionCookie(T)}else{T=this.setSessionCookie(null,true)}return T},updateTSC:function(){var T=this.getWebengageCookie();T.sc=T.sc||0;T.sc++;return this.setWebengageCookie(T)},updateTPVC:function(){var T=this.getWebengageCookie();T.tpvc=T.tpvc||0;T.tpvc++;return this.setWebengageCookie(T)},setLST:function(){var T=this.getWebengageCookie();T.lst=(new Date()).getTime();return this.setWebengageCookie(T)},setGZIPFlag:function(U){var T=this.getWebengageCookie();T.isGzip=U||false;return this.setWebengageCookie(T)},setVTD:function(){var T=this.getSessionCookie();T.vtd=1;return this.updateSessionCookie(T)},updateSessionCookieGeoData:function(){var T={country:c.GEO.country(),region:c.GEO.region(),city:c.GEO.city(),we_country:c.GEO.we_country(),we_region:c.GEO.we_region(),we_city:c.GEO.we_city(),ip:c.GEO.ip(),tsD:(c.GEO.serverTimeStamp()&&!isNaN(c.GEO.serverTimeStamp())?((new Date()).getTime()-parseInt(c.GEO.serverTimeStamp(),10)):0)};return this.updateSessionCookie(T)},getClientPageUrl:function(){return d.location.href},getClientPageHost:function(){return d.location.host},escapeScopeChars:function(T){return(T+"").replace(/([,#[\]\\])/g,"$1")},escapeForRegExp:function(T){return(T+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},isFirstTimeUser:function(){return(this.firstTimeUser!==e)?this.firstTimeUser:false},escapeNewLine:function(T){return T.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")},stringify:function(Y){if(typeof JSON!=="undefined"&&typeof JSON.stringify==="function"){return JSON.stringify(Y)}else{var W=typeof(Y);if(W!=="undefined"){W=Object.prototype.toString.call(Y);if(W==="[object Number]"||W==="[object Boolean]"||W==="[object String]"||Y===null){if(W=="[object String]"){Y='"'+this.escapeNewLine(Y)+'"'}return String(Y)}else{var V=[],T=(Y&&Y.constructor==Array),X=(Y&&Y instanceof Date);if(T){for(var U=0;U<Y.length;U++){var Z=this.stringify(Y[U]);if(typeof Z!=="undefined"){V.push(Z)}}}else{if(X){return X.toString()}else{for(var aa in Y){var Z=this.stringify(Y[aa]);if(typeof Z!=="undefined"){V.push('"'+aa+'":'+Z)}}}}return(T?"[":"{")+String(V)+(T?"]":"}")}}}},trimStr:function(T){if(typeof T.trim==="function"){return T.trim()}else{if(typeof T==="string"){return T.replace(/^\s+|\s+$/g,"")}}return T},clientDataString:function(Z){var W=function(ac){var aa=ac;if(typeof ac==="function"){try{aa=ac()}catch(ab){aa=null}}return aa};if(typeof Z==="object"){for(var V in Z){var X=Z[V];if(X===e||(typeof X!=="boolean"&&X!==0&&!X)){delete Z[V];continue}if(!(X instanceof Array)){Z[V]=new Array();var Y=W(X);if(Y===e||(typeof Y!=="boolean"&&Y!==0&&!Y)){delete Z[V]}else{Z[V].push(Y)}}else{var T=[];for(var U=0;U<X.length;U++){X[U]=W(X[U]);if(!(X[U]===e||(typeof X[U]!=="boolean"&&X[U]!==0&&!X[U]))){T.push(X[U])}}if(T.length>0){Z[V]=T}else{delete Z[V]}}}}return c.util.stringify(Z)},isColorTooLight:function(U){U=U.indexOf("#")===0?U.substr(1,U.length):U;var W=parseInt(U.substr(0,2),16);var V=parseInt(U.substr(2,2),16);var T=parseInt(U.substr(4,2),16);var X=((W*299)+(V*299)+(T*299))/1000;return X>=128},isEmptyObject:function(T){for(var U in T){if(T.hasOwnProperty(U)){return false}}return true},isValidEmail:function(T){return/[^\s@]+@[^\s@]+\.[^\s@]+/.test(T)},parseJSON:function(T){return new Function("return "+T+";")()},bind:function(Y,W){var Z=this;var X=Z.callbacks||{};if(Y!==e&&typeof(W)==="function"){var aa=W;W=function(){return aa.apply(this,arguments)};W.cbid=(aa.cbid=Z.cbid++);Y=(Y||"").match(/\S+/g)||[""];var V=Y.length;while(V--){var U=Y[V];var T=X[U]||{};T[W.cbid]=W;X[U]=T}Z.callbacks=X}return Z},unbind:function(T,U){var V=this;if(T!==e){if(typeof(V.callbacks)==="object"&&typeof(V.callbacks[T])==="object"){if(typeof(U)==="function"&&U.cbid){delete V.callbacks[T][U.cbid]}else{delete V.callbacks[T]}}}return V},executeCallbacks:function(){var W=this;if(typeof W.enableCallbacks==="boolean"&&W.enableCallbacks){var T=arguments[0];if(T!==e&&typeof W.callbacks==="object"&&typeof W.callbacks[T]==="object"){for(var U in W.callbacks[T]){if(typeof W.callbacks[T][U]==="function"){var V=W.callbacks[T][U].apply(this,Array.prototype.slice.call(arguments,1));if(typeof V==="boolean"&&!V){return false}}}}}},markSurveyAsClosed:function(V,U){if(V){try{var T=c.util.getSessionCookie();if(T.closedSurveys===e||!T.closedSurveys){T.closedSurveys=""}if(T.closedSurveys.indexOf("##"+V)<0){T.closedSurveys+="##"+V}c.util.updateSessionCookie(T);if(U&&typeof U.dump==="function"){U.dump("close")}}catch(W){}}},markSurveyAsTaken:function(W,V,U){if(W){try{var Y=true;var T=c.util.getWebengageCookie();if(T.takenSurveys===e||!T.takenSurveys){T.takenSurveys=""}if(T.takenSurveys.indexOf("##"+W)<0){T.takenSurveys+="##"+W;Y=false}c.util.setWebengageCookie(T);if(V&&typeof V.dump==="function"&&U&&typeof U==="boolean"&&U){V.event=V.event||"submit";if(V.event==="submit"&&!Y){V.dump(V.event)}else{if(V.event==="complete"){V.dump(V.event)}}}}catch(X){}}},markEntityAsShown:function(Z,V,aa,ad){if(Z&&V){var T=1,W=1;try{var X=c.util.getWebengageCookie(),ae=c.util.getSessionCookie(),ac=(("notification"===V)?(ad&&ad===true?"anids":"seenNIds"):(("survey"===V)?(ad&&ad===true?"asids":"seenSIds"):null));var U=(("notification"===V)?(ad&&ad===true?"anids":"snids"):(("survey"===V)?(ad&&ad===true?"asids":"ssids"):null));if(ac&&U){X[ac]=X[ac]&&X[ac]!==e?X[ac]:"";if(X[ac].indexOf("##"+Z)<0){X[ac]+="##"+Z+"="+T}else{var ab=new RegExp("##"+c.util.escapeForRegExp(Z)+"=(\\d+)","g");X[ac]=X[ac].replace(ab,function(af,ag){T=(+ag+1);return"##"+Z+"="+T})}ae[U]=ae[U]&&ae[U]!==e?ae[U]:"";if(ae[U].indexOf("##"+Z)<0){ae[U]+="##"+Z+"="+W}else{var ab=new RegExp("##"+c.util.escapeForRegExp(Z)+"=(\\d+)","g");ae[U]=ae[U].replace(ab,function(af,ag){W=(+ag+1);return"##"+Z+"="+W})}c.util.updateSessionCookie(ae);c.util.setWebengageCookie(X)}}catch(Y){}}},markNotificationAsClicked:function(W,X,U){if(W){try{var T=c.util.getWebengageCookie();T.takenNIds=T.takenNIds&&T.takenNIds!==e?T.takenNIds:"";if(T.takenNIds.indexOf("##"+W)<0){T.takenNIds+="##"+W}c.util.setWebengageCookie(T);if(U&&typeof U.dump==="function"){U.dump("click")}}catch(V){}}},markNotificationAsClosed:function(W,U){if(W){try{var T=c.util.getSessionCookie();if(T.closedNIds===e||!T.closedNIds){T.closedNIds=""}if(T.closedNIds.indexOf("##"+W)<0){T.closedNIds+="##"+W}c.util.updateSessionCookie(T);if(U&&typeof U.dump==="function"){U.dump("close")}}catch(V){}}},setMinimizedState:function(T,V,X){var W=(T==="notification"?"minNIds":"minSIds");if(V){try{var U=c.util.getSessionCookie();if(U[W]===e||!U[W]){U[W]=""}if(X){if(U[W].indexOf("##"+V)<0){U[W]+="##"+V}}else{U[W]=U[W].replace("##"+V,"")}c.util.updateSessionCookie(U)}catch(Y){}}},getMinimizedState:function(T,V){var W=(T==="notification"?"minNIds":"minSIds");var X=false;if(V){try{var U=c.util.getSessionCookie();if(U[W]!==e){if(0<=U[W].indexOf("##"+V)){X=true}}}catch(Y){}}return X},getVersion:function(){return s.widgetVersion},usckwl:function(V){var U=c.util.getSessionCookie();U.pvc=(U.pvc?U.pvc+1:1);if(V&&a.referrer&&(!U.referrer||U.referrer!==a.referrer)){var T=a.referrer.match(/:\/\/(.[^\/]+)/)[1];if(!T.match(new RegExp(c.util.escapeForRegExp(V)+"$","gi"))){U.referrer=a.referrer}}c.util.updateSessionCookie(U)},getHashCode:function(Y){var W=0,V,U,X=Y||"",T;if(X.length==0){return W}for(V=0,T=X.length;V<T;V++){U=X.charCodeAt(V);W=((W<<5)-W)+U;W|=0}return W},getTotalTimesShown:function(Z,V,U,ac){var T=0;if(Z&&V){var ab=null,X=null;if(U){ab=k.getSessionCookie();X=(("notification"===V)?(ac&&ac===true?"anids":"snids"):(("survey"===V)?(ac&&ac===true?"asids":"ssids"):null))}else{ab=k.getWebengageCookie();X=(("notification"===V)?(ac&&ac===true?"anids":"seenNIds"):(("survey"===V)?(ac&&ac===true?"asids":"seenSIds"):null))}if(ab&&X&&ab[X]){try{var aa=new RegExp("##"+Z+"=(\\d+)");var W=ab[X].match(aa);if(W instanceof Array&&W.length>1){T=parseInt(W[1],10)}}catch(Y){}}}return T},attachEventListners:function(Y,T){var W=(Y==="survey"?c.survey.callbacks:(Y==="feedback"?c.feedback.callbacks:c.notification.callbacks));if(typeof W!==e&&W){for(var V in W){var X=W[V];if(typeof callbacks!=e&&X){for(var U in X){this.bind.apply(T,[V,X[U]])}}}}},hasSVG:function(){return !!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},onDocReady:function(T){if(typeof T==="function"){if(a.body){c.withELog(function(){T()});return}if(a.addEventListener){a.addEventListener("DOMContentLoaded",function(){c.withELog(function(){a.removeEventListener("DOMContentLoaded",arguments.callee,false);T()})},false)}else{if(a.attachEvent){a.attachEvent("onreadystatechange",function(){c.withELog(function(){if(a.readyState==="complete"){a.detachEvent("onreadystatechange",arguments.callee);T()}})});if(a.documentElement.doScroll&&d==d.top){(function(){c.withELog(function(){try{a.documentElement.doScroll("left")}catch(U){setTimeout(arguments.callee,0);return}T()})})()}}}}},abortAllInstances:function(T){c.withELog(function(){if(T.length>0){for(var U=0;U<T.length;U++){if(typeof T[U].abort==="function"){T[U].abort()}}}})},abortInstance:function(T){c.withELog(function(){if(T){if(typeof T.close==="function"){T.close()}else{T.onLoad&&T.onLoad(function(){this.close()})}}})},isSmallScreen:function(){var T=480,U=d.screen.availWidth;return(U<=T?true:false)},webklitWorkAround:function(T){var U=a.body.scrollTop||0;if(a.location.toString().match(/#(top)?$/)){T.body.scrollTop=0;a.body.scrollTop=U}},getWeDataContainer:function(){return s.weDataContainer},withWeJquery:function(T){c.jQSt=c.jQSt||0;switch(c.jQSt){case 1:setTimeout(function(){c.util.withWeJquery(T)},100);break;case 2:if(typeof T==="function"){T()}break;default:c.jQSt=1;c.util.loadScript.apply(s.widgetContainer,[s.weJquery,function(){$weJQuery=jQuery.noConflict(true);c.jQSt=2;if(typeof T==="function"){T()}}]);break}},tsTracking:function(U,V){if(U){var T=new Image();T.src="https://"+s.tstbu+U+(V?"?"+V:"")}},isElementExists:function(U){var T=(U);if(T&&U.nodeType&&U.nodeType===1){T=(U.style&&((U.style.display&&U.style.display==="none")||(U.style.visibility&&U.style.visibility==="hidden")))?false:true}return T},onReady:function(T){if(typeof T==="function"){if(h){T()}else{v[v.length]=T}}},getServerTimeStamp:function(){var T=k.getSessionCookie();return((new Date()).getTime()+(T&&T.tsD&&!isNaN(T.tsD)?parseInt(T.tsD,10):0))},transitConvert:function(V){var U=[];function T(Z){var W;if(Z===null){return null}else{if(Object.prototype.toString.call(Z)==="[object String]"){if(Z.charAt(0)=="~"){return"~"+Z}else{return Z}}else{if(Object.prototype.toString.call(Z)==="[object Date]"){return"~t"+k.toDateISOString(Z)}else{if(Object.prototype.toString.call(Z)==="[object Array]"){W=[];for(var X=0;X<Z.length;X++){W[X]=T(Z[X])}return W}else{if(Object.prototype.toString.call(Z)==="[object Object]"){if(k.indexOfArray(U,Z)==-1){U.push(Z);W={};for(var Y in Z){if(Z.hasOwnProperty(Y)){W[Y]=T(Z[Y])}}return W}else{throw new Error("There is some circular references while converting data into transit format")}}else{return Z}}}}}}return T(V)},transitUnconvert:function(U){function T(Y){if(Y===null){return null}else{if(Object.prototype.toString.call(Y)==="[object String]"){if(Y.indexOf("~t")===0){return k.fromDateISOString(Y.substr(2))}else{if(Y.charAt(0)==="~"){return Y.substr(1)}else{return Y}}}else{if(Object.prototype.toString.call(Y)==="[object Array]"){var W=Y.length;for(var V=0;V<W;V++){Y[V]=T(Y[V])}return Y}else{if(Object.prototype.toString.call(Y)==="[object Object]"){for(var X in Y){if(Y.hasOwnProperty(X)){Y[X]=T(Y[X])}}return Y}else{return Y}}}}}return T(U)},sha1:function(X){function am(W,T,av,au){switch(W){case 0:return(T&av)^(~T&au);case 1:return T^av^au;case 2:return(T&av)^(T&au)^(av&au);case 3:return T^av^au}}function aq(T,W){return(T<<W)|(T>>>(32-W))}function ai(av){var au="",T;for(var W=7;W>=0;W--){T=(av>>>(W*4))&15;au+=T.toString(16)}return au}X=unescape(encodeURIComponent(X));var aa=[1518500249,1859775393,2400959708,3395469782];X+=String.fromCharCode(128);var aj=X.length/4+2;var Y=Math.ceil(aj/16);var Z=new Array(Y);for(var al=0;al<Y;al++){Z[al]=new Array(16);for(var ak=0;ak<16;ak++){Z[al][ak]=(X.charCodeAt(al*64+ak*4)<<24)|(X.charCodeAt(al*64+ak*4+1)<<16)|(X.charCodeAt(al*64+ak*4+2)<<8)|(X.charCodeAt(al*64+ak*4+3))}}Z[Y-1][14]=((X.length-1)*8)/Math.pow(2,32);Z[Y-1][14]=Math.floor(Z[Y-1][14]);Z[Y-1][15]=((X.length-1)*8)&4294967295;var af=1732584193;var ae=4023233417;var ad=2562383102;var ac=271733878;var ab=3285377520;var U=new Array(80);var at,ar,ap,ao,an;for(var al=0;al<Y;al++){for(var ag=0;ag<16;ag++){U[ag]=Z[al][ag]}for(var ag=16;ag<80;ag++){U[ag]=aq(U[ag-3]^U[ag-8]^U[ag-14]^U[ag-16],1)}at=af;ar=ae;ap=ad;ao=ac;an=ab;for(var ag=0;ag<80;ag++){var ah=Math.floor(ag/20);var V=(aq(at,5)+am(ah,ar,ap,ao)+an+aa[ah]+U[ag])&4294967295;an=ao;ao=ap;ap=aq(ar,30);ar=at;at=V}af=(af+at)&4294967295;ae=(ae+ar)&4294967295;ad=(ad+ap)&4294967295;ac=(ac+ao)&4294967295;ab=(ab+an)&4294967295}return ai(af)+ai(ae)+ai(ad)+ai(ac)+ai(ab)},generateLUID:function(){var W=[r,(new Date()).getTime(),L.getTime(),L.toString().substr(25),navigator.platform,Math.random()*268435456+65536,Math.random()*65536,].concat(d.location.href.split("/"),navigator.userAgent.split(" "),a.cookie.split(";"));for(var V=W.length-1,U,T;V>0;V--){U=Math.floor(Math.random()*(V+1));T=W[V];W[V]=W[U];W[U]=T}return this.sha1(W.join())},withCookies:function(W,Y){var T=function(Z,aa){if(c.frameSync.status){c.frameSync.get(Z,aa)}else{aa()}};var V=this;var U=W[0];W.splice(0,1);var X=W.length===0?Y:function(){V.withCookies(W,Y)};T(U,X)}}},true);S(c,{frameSync:{storeFrameName:"wkStorageFrame",storeCBFrameName:"wkCBStorageFrame",onMessageRecieve:function(X){X=c.util.parseJSON(X);var Y=X.msg;var T=X.name;var W=X.value;switch(Y){case"init":if(this.status===null){this.status=(X.value&&X.value.status)==="success";if(!this.status){this.message="Storage frame sent failed status";if(W&&typeof W.unloading!=="undefined"){this.message+=" [un-"+W.unloading+"]"}if(W&&typeof W.localStorage!=="undefined"){this.message+=" [ls-"+W.localStorage+"]"}if(W&&typeof W.v4Load!=="undefined"){this.message+=" [v4-"+W.v4Load+"]"}if(X.value.timing){var V=X.value.timing;this.data="[we.co] load "+((V[1]-V[0])/1000)+"s\n[v4] load "+((V[2]-V[1])/1000)+"s"}}if(this.status){if(X.value.webengage_fs_configurationMap){d.webengage_fs_configurationMap=X.value.webengage_fs_configurationMap;d._weq.isGzip=X.value.isGzip}}break}default:if(this.status){switch(T){case"_we_wk_ls_":c.util.setWebengageCookieCache(W);break;case"_we_wk_ss_":c.util.setSessionCookieCache(W);break}}break}if(this.status!==null){if(this.callbacks[T]){for(var U=0;U<this.callbacks[T].length;U++){if(typeof this.callbacks[T][U]==="function"){this.callbacks[T][U](X.value,T)}}this.callbacks[T]=null}}},init:function(ab){this.storeFrame=null;this.storeCBFrame=null;this.callbacks={};this.status=null;this.message=null;if(this.fallBackStoreLoad){clearTimeout(this.fallBackStoreLoad);this.fallBackStoreLoad=null}var V=c.BrowserDetect.browser(true),Y=c.BrowserDetect.version(true),U=c.BrowserDetect.os(true),T=c.BrowserDetect.device(true),ad="[we.co] Storage frame loading timed out",aa=parseInt("40000"),Z=false,ac;if(!(T==="Desktop"&&(V==="Firefox"||(V==="Chrome")||(V==="Explorer"&&Y>=10)))||l["webengage.isDemoMode"]===true||aa===0){this.status=false;return ab()}var X=this;X.verify=true;if(!this.storeFrame){this.storeFrame=c.IFRAMES.create(this.storeFrameName,s.weDataContainer);this.storeCBFrame=c.IFRAMES.create(this.storeCBFrameName,s.weDataContainer);this.storeCBFrame.style.display="none";c.setTimeout(function(){var ae=null;if(X.storeCBFrame.contentDocument){ae=X.storeCBFrame.contentDocument}else{if(X.storeCBFrame.contentWindow){ae=X.storeCBFrame.contentWindow.document}else{if(X.storeCBFrame.document){ae=X.storeCBFrame.document}}}ae.open();ae.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="cache-control" content="max-age=0" /><meta http-equiv="cache-control" content="no-cache" /><meta http-equiv="pragma" content="no-cache" /><meta http-equiv="content-type" content="text/html; charset=utf-8"><script type="text/javascript">try{window.parent.window.name}catch(e){document.domain="'+a.domain+'";}; setTimeout(function(){if (window.attachEvent) {window.attachEvent( "onmessage", function (e) { window.parent.window.webengage.frameSync.onMessageRecieve(e.data);},false);} else {window.addEventListener( "message", function (e) { window.parent.window.webengage.frameSync.onMessageRecieve(e.data);},false);}},10);<\/script></head><body></body></html>');ae.close()},10)}var W=function(af){var ae=function(){if(X.status!==null){clearTimeout(af)}if(!X.message){X.message=ad}X.message+=" M"+Math.round(((new Date()).getTime()-X.sfts)/5000);if(!af&&X.storeFrame&&X.storeFrame.src!==ac){X.message+=" sfChanged "+X.storeFrame.src}if(typeof ab==="function"){ab()}};if(X.status!==null){if(!Z){Z=true;ae(af)}}else{X.addCallback("init",ae)}};this.fallBackStoreLoad=setTimeout(function(){X.status=false;W(null)},aa);this.storeFrame.onload=function(ae){ad="[v4] Storage frame loading timed out";W(X.fallBackStoreLoad)};this.sfts=(new Date()).getTime();ac="https://"+(l["webengage.licenseCode"]||"").replace(/~/g,"z")+".webengage.co/storage-frame-1.10.htm?lc="+l["webengage.licenseCode"]+"&cbf="+this.storeCBFrameName+"#"+this.sfts+"&url="+encodeURIComponent(d.location.href);this.storeFrame.src=ac},addCallback:function(T,U){if(!this.callbacks[T]){this.callbacks[T]=[]}this.callbacks[T].push(U)},get:function(T,U){if(this.status){if(!this.callbacks[T]){d.frames[this.storeFrameName].postMessage({action:"read",name:T},"*")}if(typeof U==="function"){this.addCallback(T,U)}}},set:function(T,U){if(this.status){d.frames[this.storeFrameName].postMessage({action:"store",name:T,value:U},"*")}}}},true);S(c,{getWidgetVersion:function(){return l["webengage.widgetVersion"]||"4.0"},getLicenseCode:function(){return r}},true);var k=c.util;var s={widgetVersion:"4",weJquery:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js",baseWebEngageUrl:"//webengage.com",feedbackAppHost:"feedback.webengage.com",surveyAppHost:"survey.webengage.com",widgetDomain:"//d3701cc9l7v9a6.cloudfront.net",baseStaticUrl:"//d3701cc9l7v9a6.cloudfront.net",loadSurveyWidgetUrl:function(T){return"/js/widget/we-survey-widget-"+(T?T:"~483819f")+"-v-4.0.js?v=555.0"},loadSurveyWidgetUrlv3:"/js/widget/we-survey-widget.js?v=555.0",notificationWidgetScriptUrl:"/js/widget/we-notification-widget-v-4.1.js?v=555.0",findAllTakenSurveysUrl:function(){return"//survey.webengage.com/publisher-widget-loader.html?action=findAllTakenSurveys&licenseCode="+l["webengage.licenseCode"]+"&url="+encodeURIComponent(k.getClientPageUrl())},widgetContainerId:"webklipper-publisher-widget-container",feedbackImageBaseUrl:"//s3-ap-southeast-1.amazonaws.com/wk-static-files/webengage/feedbacktab/",loadFeedbackWidgetUrl:"/js/widget/we-feedback-widget-v-4.0.js?v=555.0",loadFeedbackWidgetUrlv3:"/js/widget/we-feedback-widget.js?v=555.0",gaCallbacksScriptUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/ga-callbacks-helper.js?v=555.0",tstbu:"c.webengage.com",csUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/we-conversion-helper-min-v-1.0.js?v=555.0"};var E={};k.extend("logger",(function(){var U={containerCss:{position:function(){return c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"},cursor:"default",margin:0,zIndex:(k.getMaxZIndex()+1),backgroundColor:"red",right:"0px",bottom:"0px",display:"block",padding:"10px",maxWidth:"500px",textAlign:"left",lineHeight:"17px",background:"none repeat scroll 0 0 #ff9",border:"1px solid #fc6",borderBottomWidth:"0px",borderRightWidth:"0px",borderTopLeftRadius:"5px",MozBorderRadiusTopleft:"5px",WebkitBorderTopLeftRadius:"5px",boxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",MozBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",WebkitBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif",fontSize:"13px"},dataDivCss:{margin:"0px",padding:"0px",color:"#000",textShadow:"1px 1px #f1f1f1",textDecoration:"none",fontFamily:"inherit",fontSize:"inherit"},dataDivLinkCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",fontFamily:"inherit",fontSize:"inherit"},closeButtonCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",cursor:"pointer",cssFloat:"right",styleFloat:"right",marginRight:"5px",marginLeft:"30px"}},T=function(af,ae){var X=a.getElementById("webengage-error-messages");if(X){X.parentNode.removeChild(X)}var Z=a.createElement("div");Z.setAttribute("id","webengage-error-messages");Z=k.applyCss(Z,U.containerCss);a.body.insertBefore(Z,null);var ad=a.createElement("div");ad=k.applyCss(ad,U.closeButtonCss);ad.innerHTML="x";Z.appendChild(ad);ad.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode)};var W=a.createElement("div");W=k.applyCss(W,U.dataDivCss);Z.appendChild(W);W.innerHTML=af;var aa=W.getElementsByTagName("a");if(aa&&aa.length>0){for(var ab=0;ab<aa.length;ab++){k.applyCss(aa[ab],U.dataDivLinkCss);var Y=aa[ab].getAttribute("href");var V=Y.split("#");var ac=V[0];ac=ac.indexOf("?")<0?(ac+"?"):ac;ac=ac+"&ref=widget-message";ac=V.length==2?(ac+"#"+V[1]):ac;aa[ab].setAttribute("href",ac)}}c.eLog(null,ae,af,af);setTimeout(function(){Z.remove()},5000);return Z};return{success:function(V){return T(V,"success")},warn:function(V){return T(V,"warn")},error:function(V){return T(V,"error")}}})());var n={landing_page:"lp",referrer_url:"rf",referrer_host:"rfh",referrer_type:"type",referrer_query:"query",referrer_link:"link",referrer_network:"network",campaign_id:"id",campaign_source:"source",campaign_medium:"medium",campaign_term:"term",campaign_gclid:"gclid"};k.extend("UserProfile",{getEventCriteriaValue:function(W){var V=k.getSessionCookie().upf;if(V&&V.event_criterias instanceof Array){var T=V.event_criterias;for(var U=0;U<T.length;U++){if(W===T[U].criteria_id){return T[U].val}}}return e},getUserAttribute:function(T){var U=k.getWebengageCookie().uattr||{};if(T==="we_birth_date"&&Object.prototype.toString.call(U[T])==="[object String]"){return k.fromDateISOString(U[T]+"T00:00:00.000Z")}return U[T]||e},getProfileUserLevel:function(W){var T=k.getWebengageCookie(),V=k.getSessionCookie(),U=V.upf||{};if(W==="session_count"){return Math.max(T.sc||0,U.session_count||0)}else{if(W==="last_seen"){return Math.max(T.lao||0,(U.last_seen&&U.last_seen.getTime())||0)}else{if(W==="time_spent"){return(new Date().getTime()-V.sst)}else{if(n.hasOwnProperty(W)){return(T.aqsd||{})[n[W]]||e}else{if(U.hasOwnProperty(W)){return U[W]}}}}}return e},getProfileDeviceLevel:function(W,X){var T=k.getWebengageCookie(),V=k.getSessionCookie(),U=V.upf||{};if(W===1){switch(X){case"session_count":return Math.max(T.sc||0,(U.devices&&U.devices[1] instanceof Array&&U.devices[1].length>0&&U.devices[1][0].session_count)||0);case"last_seen":return Math.max(T.lao||0,(U&&U.devices&&U.devices[1] instanceof Array&&U.devices[1].length>0&&U.devices[1][0].last_seen&&U.devices[1][0].last_seen.getTime())||0);case"time_spent":return(new Date().getTime()-V.sst);case"browser_name":return c.BrowserDetect.browser$();case"browser_version":return c.BrowserDetect.version$();case"device":return c.BrowserDetect.device();case"os_name":return c.BrowserDetect.os$()}}if(U.devices&&U.devices[W] instanceof Array&&U.devices[W].length>0&&U.devices[W][0][X]!==e){return U.devices[W][0][X]}return e},getEventCriterias:function(){var T=k.getSessionCookie().upf;if(T&&T.event_criterias instanceof Array){return T.event_criterias}return[]},updateEventCriterias:function(U,Z){var W=webengage_fs_configurationMap.ecl||[],T=this.getEventCriterias(),Y=false,V=Object.prototype.toString;for(var aa=0;aa<W.length;aa++){if(W[aa].eventName!==U){continue}for(var X=0;X<T.length;X++){if(W[aa].criteria_id===T[X].criteria_id){break}}if(X===T.length){continue}var ad=T[X],ab=Z?Z[W[aa].attribute]:e,ac=V.call(ab);if(!c.ruleExecutor.execute(null,W[aa].rule)){continue}if(W[aa]["function"]==="COUNT"){ad.val=(ad.val||0)+1}else{if(ac==="[object Number]"){switch(W[aa]["function"]){case"SUM":ad.val=(ad.val||0)+ab;break;case"AVG":ad.count=ad.count||0;ad.val=((ad.val||0)*ad.count+ab)/(ad.count+1);ad.count+=1;break;case"MIN":if(ad.val===e||ad.val>ab){ad.val=ab}break;case"MAX":if(ad.val===e||ad.val<ab){ad.val=ab}break}}else{if(ac==="[object Date]"){switch(W[aa]["function"]){case"MIN":if(ad.val===e||ad.val.getTime()>ab.getTime()){ad.val=ab}break;case"MAX":if(ad.val===e||ad.val.getTime()<ab.getTime()){ad.val=ab}break}}}}Y=true}if(Y){var ae=k.getSessionCookie();ae.upf.event_criterias=T;k.setSessionCookie(ae)}},setUserProfileJSONP:function(ad){var U=ad.upf,X=ad.acquisitionData,V=ad.ua,W=k.getWebengageCookie(),ae=k.getSessionCookie();var ag,af;if(V){W.ua=[V.browser.name,V.browser.version,V.os.name,V.device]}if(X){ag={};for(af in n){if(X.hasOwnProperty(af)){ag[n[af]]=X[af]}}ae.aqsd=ag;if(!W.aqsd){W.aqsd=ag}}if(U){U=k.transitUnconvert(ad.upf);if(W.cuid&&W.cuid===U.cuid){var aa=U.user_attributes||{},ac=W.uattr||{};for(af in aa){if(aa.hasOwnProperty(af)){ac[af]=aa[af]}}delete U.user_attributes;for(af in G){if(G.hasOwnProperty(af)&&U[G[af]]!==e){ac[af]=U[G[af]];delete U[G[af]]}}ag={};for(af in n){if(U.hasOwnProperty(af)){ag[n[af]]=U[af];delete U[af]}}W.aqsd=ag;ae.upf=U;W.uattr=ac}else{ae.upf={}}var Y=webengage_fs_configurationMap.ecl||[],T=ae.upf.event_criterias||[];for(var ab=0;ab<Y.length;ab++){for(var Z=0;Z<T.length;Z++){if(Y[ab].criteria_id===T[Z].criteria_id){break}}if(Z===T.length){T.push({criteria_id:Y[ab].criteria_id,val:e})}}ae.upf.event_criterias=T}k.setSessionCookie(ae);k.setWebengageCookie(W)},isLoaded:function(){return k.getSessionCookie().upf?true:false},load:function(ac,X,V){var W=k.getWebengageCookie(),ae=k.getSessionCookie(),Y=webengage_fs_configurationMap.ecl||[],T=c.UserProfile.getEventCriterias();var ad=V||(W.cuid&&!(ae.upf&&ae.upf.cuid)),U=!ae.aqsd||!W.ua;if(!ad){for(var ab=0;ab<Y.length;ab++){for(var aa=0;aa<T.length;aa++){if(Y[ab].criteria_id===T[aa].criteria_id){break}}if(aa===T.length){ad=true;break}}}if(ad||U){var Z="https://c.webengage.com/upf.js?jsonp=webengage.UserProfile.setUserProfileJSONP"+(ad?("&licenseCode="+r+"&luid="+W.luid):"")+(U?("&lp="+encodeURIComponent(ae.landingPage)+"&rf="+encodeURIComponent(ae.referrer)):"");k.loadScript.apply(s.widgetContainer,[Z,function(){if(typeof ac==="function"){ac()}},null,function(){if(typeof X==="function"){X()}}])}else{ac()}}});k.extend("GEO",{country:function(){return this._country||""},country_code:function(){return this._country_code||""},region:function(){return this._region||""},city:function(){return this._city||""},we_country:function(){return this._we_country||""},we_region:function(){return this._we_region||""},we_city:function(){return this._we_city||""},latitude:function(){return this._latitude||""},longitude:function(){return this._longitude||""},serverTimeStamp:function(){return this._serverTimeStamp},ip:function(){return this._ip||""},setGeoData:function(V){var U=this,T=V||{};U._country=T.geoplugin_countryName||"";U._country_code=T.geoplugin_country_code||"";U._region=T.geoplugin_region||"";U._city=T.geoplugin_city||"";U._we_country=T.country||"";U._we_region=T.region||"";U._we_city=T.city||"";U._latitude=T.geoplugin_latitude||"";U._longitude=T.geoplugin_longitude||"";U._serverTimeStamp=T.serverTimeStamp;U._ip=T.clientIp;c.getUser().country=U._country;c.getUser().city=U._city;c.getUser().ip=U._ip},isGeoLoaded:function(){return this._isLoaded?this._isLoaded:k.getSessionCookie().tsD?true:false},load:function(W,T){var U=this;if(!this.isGeoLoaded()){var V="//geoservice.webengage.com/geoip/?jsoncallback="+encodeURI("webengage.GEO.setGeoData")+(l["webengage.aip"]===true?"&aip=1":"");k.loadScript.apply(s.widgetContainer,[V,function(){k.updateSessionCookieGeoData();U._isLoaded=true;if(typeof W==="function"){W()}},null,function(){if(typeof T==="function"){T()}}])}else{U._isLoaded=true;if(typeof W==="function"){W()}}}});k.extend("BrowserDetect",(function(){var aa,W,Y,U,ab=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:d.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Windows,Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],X=[{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Windows Phone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.userAgent,subString:"Mobile",identity:"Mobile"}],V=[{string:navigator.userAgent,subString:"iPhone",identity:"Mobile"},{string:navigator.userAgent,subString:"iPod",identity:"Mobile"},{string:navigator.userAgent,subString:"Android,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Mobile"},{string:navigator.userAgent,subString:"BlackBerry,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"BB10,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Android",identity:"Tablet"},{string:navigator.userAgent,subString:"iPad",identity:"Tablet"},{string:navigator.userAgent,subString:"Windows,Tablet",identity:"Tablet"}],T=function(aj){for(var af=0;af<aj.length;af++){var ag=aj[af].string;var ai=aj[af].prop;this._versionSearchString=aj[af].versionSearch||aj[af].identity;if(ag){var ah=aj[af].subString.split(",");var ae=false;for(var ad=0;ad<ah.length;ad++){if(ag.indexOf(ah[ad])==-1){ae=false;break}ae=true}if(ae){return aj[af].identity}}else{if(ai){return aj[af].identity}}}},Z=function(af){var ae=af.indexOf(this._versionSearchString);if(ae==-1){return}var ad=parseFloat(af.substring(ae+this._versionSearchString.length+1));if(W=="Explorer"&&7<=ad){if(af.indexOf("Trident/4")!=-1){ad=8}else{if(af.indexOf("Trident/5")!=-1){ad=9}else{if(af.indexOf("Trident/6")!=-1){ad=10}}}}return ad},ac=function(){if(W&&Y&&U){return}W=T(ab)||"An unknown browser";Y=Z(navigator.userAgent)||Z(navigator.appVersion)||"an unknown version";U=T(X)||"an unknown OS";aa=T(V)||(k.isSmallScreen()?"Mobile":"Desktop")};return{browser:function(af){if(af){return ac()||W}else{var ae=c.BrowserDetect.browser$(),ad={"Opera Mini":"Opera","Opera Mobi":"Opera","Opera Tablet":"Opera","Mobile Safari":"Safari",IE:"Explorer",IEMobile:"Explorer"};return ad[ae]||ae||ac()||W}},version:function(ad){if(ad){return ac()||Y}else{return c.BrowserDetect.version$()||ac()||Y}},os:function(af){if(af){return ac()||U}else{var ae=c.BrowserDetect.os$(),ad={"Windows Mobile":"Windows Phone","Mac OS":"Mac"};return ad[ae]||ae||ac()||U}},device:function(af){if(af){return ac()||aa}else{var ae=c.BrowserDetect.device$(),ad={mobile:"Mobile",tablet:"Tablet",desktop:"Desktop"};return ad[ae]||ae||ac()||aa}},browser$:function(){var ad=k.getWebengageCookie();return ad&&ad.ua&&ad.ua[0]},version$:function(){var ad=k.getWebengageCookie();return ad&&ad.ua&&ad.ua[1]},os$:function(){var ad=k.getWebengageCookie();return ad&&ad.ua&&ad.ua[2]},device$:function(){var ad=k.getWebengageCookie();return ad&&ad.ua&&ad.ua[3]},is_this_the_worlds_most_annoying_browser:function(){return(typeof a.all!=="undefined"&&!d.opera&&!d.XMLHttpRequest)},ie:function(){return ac()||W=="Explorer"},isMobile:function(){var af=this.os(),ad=false,ag=["iOS","Android","Windows Phone","Mobile"];for(var ae=0;ae<ag.length;ae++){if(af==ag[ae]){ad=true;break}}return ad}}})());var F={onRun:function(T){return this.bind("run",T)},onLoad:function(T){return this.bind("load",T)},onOpen:function(T){return this.bind("open",T)},onView:function(T){return this.bind("view",T)},onSubmit:function(T){return this.bind("submit",T)},onClick:function(T){return this.bind("click",T)},onComplete:function(T){return this.bind("complete",T)},onClose:function(T){return this.bind("close",T)},onDump:function(T){return this.bind("dump",T)},bind:function(){return k.bind.apply(this,arguments)},unbind:function(){return k.unbind.apply(this,arguments)},executeCallbacks:function(){return k.executeCallbacks.apply(this,arguments)}};k.extend("",(function(){var T=function(){var Y=k.getWebengageCookie(),W=k.getSessionCookie(),Z={license_code:r,suid:W.suid,luid:Y.luid},X={wv:k.getVersion(),tzo:(E.configurationMap.tzo||0),ust:Y.time&&!isNaN(Y.time)?new Date(parseInt(Y.time,10)):null,lst:Y.lst&&!isNaN(Y.lst)?new Date(parseInt(Y.lst,10)):null,sc:Y.sc,tpvc:Y.tpvc,ref:W.referrer,sst:W.sst&&!isNaN(W.sst)?new Date(parseInt(W.sst,10)):null,pvcs:W.pvc,pageTitle:a.title,pageURL:d.location.href,viewportHeight:k.getWindowHeight(),viewportWidth:k.getWindowWidth(),sdk_id:1,ver:2};if(W.landingPage){X.lp=W.landingPage}if(O){X.screen_name=O}if(Y.cuid){Z.cuid=Y.cuid}Z.system_data=X;return Z},V=function(Z,ab,aa){var X="https://c.webengage.com"+Z;try{if(c.BrowserDetect.ie()){throw new Error("This browser does not support XMLHttpRequest.")}var af=d.XMLHttpRequest;if(typeof af==="undefined"){af=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(al){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(al){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(al){}throw new Error("This browser does not support XMLHttpRequest.")}}var ag=new af();var W=ab?"POST":"GET";ag.open(W,X,true);ag.onreadystatechange=function(){if(ag.readyState==4){if(ag.status==200){if(aa&&typeof aa==="function"){aa()}}}};ag.setRequestHeader("Content-type","application/x-www-form-urlencoded");var ak=[];for(var aj in ab){if(ab.hasOwnProperty(aj)){ak.push(encodeURIComponent(aj)+"="+encodeURIComponent(ab[aj]))}}var ai=ak.join("&");ag.send(ai)}catch(ae){try{var ad=a.createElement("iframe");var ac="WE_XHR_POST_IFRM";a.body.appendChild(ad);ad.style.display="none";ad.contentWindow.name=ac;var Y=a.createElement("form");Y.target=ac;Y.action=X;Y.method="POST";for(var aj in ab){var ah=a.createElement("input");ah.type="hidden";ah.name=aj;ah.value=ab[aj];Y.appendChild(ah)}a.body.appendChild(Y);Y.submit();ad.onload=function(){if(ad.parentNode){ad.parentNode.removeChild(ad)}}}catch(ae){}}};var U={};return{dump:function(W,X,Z){function Y(){var ac=T();ac.system_data=k.copy(ac.system_data||{},Z||{},true);ac.event_data=k.copy({},(X||{}),true);ac.category=Z?"system":"application";ac.event_name=(W||"unknown");if(l["webengage.aip"]===true){ac.system_data["aip"]=1}var aa=k.stringify(k.transitConvert(ac));aa=c.LZString.compressToBase64(aa);var ad=ac.category==="system"?"we_"+W:W;if(ad!=="we_leaveIntent"&&ad!=="we_pageDelay"&&ad!=="we_totalTimeOnSite"&&ad!=="we_click"&&ad!=="we_scrollPercentage"){V("/l3.jpg",{data:aa})}var ae=k.copy({},ac.event_data);for(var ab in ac.system_data){if(ac.system_data.hasOwnProperty(ab)){ae["we_"+ab]=ac.system_data[ab]}}if(!U.hasOwnProperty(ad)){c.events.subscribe(ad,c.events.subscriber);U[ad]=true}c.events.publish(ad,ae)}if(!l["webengage.isDemoMode"]){if(h){Y()}else{m.push(Y)}}}}})());k.extend("feedback",(function(){var T=[];return{cbid:1,getMobileLoadingDiv:function(V){var U=a.createElement("div");U.id=V||s.widgetContainerId+"-loading";U=c.util.applyCss(U,{position:"fixed",left:(c.util.getWindowWidth()*0.05)+"px",width:(c.util.getWindowWidth()*0.9)+"px",opacity:"1",background:"#f9f9f9",color:"#666","z-index":c.util.getMaxZIndex(),textAlign:"center","padding-top":"20px","padding-bottom":"20px",fontFamily:"Arial, sans-serif",fontSize:"10px",display:"none"});return U},getLoadingDiv:function(V){var U=a.createElement("div");U.id=V||s.widgetContainerId+"-loading";U=c.util.applyCss(U,{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"});return U},getLightBoxBaseDiv:function(){var U=a.createElement("div");c.util.applyCss(U,{display:"block",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),position:"absolute",overflow:"hidden",top:"0",left:"0",height:a.body.scrollHeight+"px",width:"100%","background-color":"rgba(0, 0, 0, .85)"});U.id=s.widgetContainerId+"-base";return U},getLightBoxContainerDiv:function(){var V=a.createElement("div");c.util.applyCss(V,{display:"block",top:"0",left:"0",width:"100%",height:c.util.getWindowHeight()+"px",position:"absolute",outline:"none !important","-webkit-backface-visibility":"hidden",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),"-webkit-overflow-scrolling":"touch"});V.setAttribute("tabIndex",-1);V.id=s.widgetContainerId+"-light-box-container";var U=a.createElement("div");c.util.applyCss(U,{display:"block","text-align":"center",position:"absolute",width:"100%",height:"100%",left:"0",top:"0",outline:"none !important","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",padding:"0 8px",margin:"0","overflow-y":"auto","overflow-x":"hidden"});U.id=s.widgetContainerId+"-light-box-content";V.appendChild(U);return V},render:function(U){return c.withELog(function(){return(new function(){c.feedback.clear();var aj=this;aj.cbid=1;T[T.length]=aj;aj.abort=function(){k.abortInstance(this)};aj._feedbackOptions={launchType:l["webengage.feedback.launchType"]||"",externalLinkId:l["webengage.feedback.externalLinkId"]||"",alignment:l["webengage.feedback.alignment"]||"",borderColor:l["webengage.feedback.borderColor"]||"",backgroundColor:l["webengage.feedback.backgroundColor"]||"",snapshotEnabled:l["webengage.feedback.snapshotEnabled"]||"",defaultCategory:l["webengage.feedback.defaultCategory"]||"",showAllCategories:(typeof l["webengage.feedback.showAllCategories"]==="boolean"&&!l["webengage.feedback.showAllCategories"])?false:true,showForm:l["webengage.feedback.showForm"]||false,isDemoMode:l["webengage.feedback.isDemoMode"]||l["webengage.isDemoMode"]||false,customData:l["webengage.feedback.customData"]||l["webengage.customData"]||{},formData:l["webengage.feedback.formData"]||l["webengage.formData"]||[],enableCallbacks:l["webengage.feedback.enableCallbacks"]||l["webengage.enableCallbacks"]||false,language:l["webengage.language"]||""};if(U!==e&&U.data!==e&&U.data){var aD=U.data;if(aD.name!==e&&aD.name){aj._feedbackOptions.formData.push({name:"name",value:aD.name})}if(aD.email!==e&&aD.email){aj._feedbackOptions.formData.push({name:"email",value:aD.email})}if(aD.category!==e&&aD.category){aj._feedbackOptions.formData.push({name:"category",value:aD.category})}}var Z={feedbackLaunchType:"launchType",feedbackExternalLinkId:"externalLinkId",feedbackButtonAlignment:"alignment",feedbackButtonBorderColor:"borderColor",feedbackButtonBackgroundColor:"backgroundColor",defaultFeedbackCategory:"defaultCategory",showAllFeedbackCategories:"showAllCategories",showFeedbackForm:"showForm",data:"customData",demo:"isDemoMode"};if(U!==e&&!k.isEmptyObject(U)){for(var V in U){var az=Z[V];if(az!==e&&az){U[az]=U[V];delete U[V]}}}if(U&&U.customData){aj._feedbackOptions.customData=k.copy(aj._feedbackOptions.customData,U.customData,true);delete U.customData}if(U&&U.ruleData){aj._feedbackOptions.ruleData=k.copy(aj._feedbackOptions.ruleData,U.ruleData,true);delete U.ruleData}aj._feedbackOptions=k.copy(aj._feedbackOptions,(U?U:{}),true);aj.enableCallbacks=(typeof aj._feedbackOptions.enableCallbacks==="boolean"?aj._feedbackOptions.enableCallbacks:false);k.copy(aj,F,true);aj.onLoad((aj._feedbackOptions.onLoad||l["webengage.feedback.onLoad"]));aj.onSubmit((aj._feedbackOptions.onSubmit||l["webengage.feedback.onSubmit"]));aj.onClose((aj._feedbackOptions.onClose||l["webengage.feedback.onClose"]));aj.onOpen((aj._feedbackOptions.onOpen||l["webengage.feedback.onOpen"]));c.feedback.addToInstance(aj);k.attachEventListners("feedback",aj);var ap=(c.BrowserDetect.isMobile()||k.isSmallScreen());var ay=(E.feedback?((typeof(E.feedback.config.showMobile)==="undefined")?true:E.feedback.config.showMobile):false);if((E.feedback&&(E.feedback.isEnabled||aj._feedbackOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&E.sslEnabled))&&!E.isFQuotaOver)&&((ap&&ay)||!ap)){var ak=E.feedback.config,au={alignment:["right","left"],launchTypes:["feedbackButton","externalLink"],containerCss:{margin:0,padding:0,position:(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"),border:"5px solid #ccc",backgroundColor:"#f9f9f9",borderWidth:"1px",borderStyle:"solid"},containerRightCss:{right:"0px",borderRightWidth:"0px"},containerLeftCss:{left:"0px",borderLeftWidth:"0px"},commonCss:{margin:0,padding:0,cursor:"pointer",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundPosition:"center 0",display:"block",paddingBottom:"7px",paddingLeft:"3px",paddingRight:"3px",paddingTop:"7px"},tabCssWithIcon:{backgroundPosition:"center bottom",paddingBottom:"33px"},closeCommonCss:{height:"22px",width:"22px",cursor:"pointer",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",position:"absolute",top:"-14px",backgroundImage:"url('"+s.baseStaticUrl+"/images/icons/feedback-widget-close.png')",backgroundColor:"transparent",display:"none"},leftCloseCss:{right:"-14px"},rightCloseCss:{left:"-14px"},feedbackBgImageForDarkBackground:s.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-dark.png",feedbackBgImageForLightBackground:s.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-light.png",feedbackTextImage:s.feedbackImageBaseUrl+ak.imgPath,sizeCss:{height:ak.imgHeight+"px",width:ak.imgWidth+"px"},leftCss:{cssFloat:"right",styleFloat:"right"},rightCss:{cssFloat:"left",styleFloat:"left"},loadingCss:{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"},maxWidth:"450px",maxHeight:(c.BrowserDetect.ie()?"349px":"345px")},aw={getButtonCssBasedOnConfig:function(aF,aG){var aE={};aE=k.copy(aE,au.sizeCss);if(aF=="left"){aE=k.copy(aE,au.leftCss)}else{aE=k.copy(aE,au.rightCss)}if(aG){aE=k.copy(aE,au.tabCssWithIcon)}return aE},getContainerCssBasedOnConfig:function(aF){var aE={};aE=k.copy(aE,au.containerCss);if(aF=="right"){aE=k.copy(aE,au.containerRightCss)}else{aE=k.copy(aE,au.containerLeftCss)}return aE},getCloseCssBasedOnConfig:function(aF){var aE={};if(aF=="right"){aE=k.copy(aE,au.rightCloseCss)}else{aE=k.copy(aE,au.leftCloseCss)}return aE},getButtonCssBasedOnBackgroundColor:function(aF){var aE={};if(k.isColorTooLight(aF)){aE=k.copy(aE,{backgroundImage:("url('"+au.feedbackBgImageForLightBackground+"')")})}else{aE=k.copy(aE,{backgroundImage:("url('"+au.feedbackBgImageForDarkBackground+"')")})}return aE},getCustomTextImageCss:function(){var aE={};aE=k.copy(aE,{backgroundImage:("url('"+au.feedbackTextImage+"')")});return aE}},at=(ak.closeImg===e||ak.closeImg===null||ak.closeImg==="")?(s.baseStaticUrl+"/images/icons/feedback-widget-close.png"):("//s3-ap-southeast-1.amazonaws.com/"+ak.closeImg),ar=k.getInitParamValue(aj._feedbackOptions,"alignment",ak.alignment,au.alignment),ac=k.getInitParamValueAsArray(aj._feedbackOptions,"launchType",ak.launchType,au.launchTypes),ab=k.getInitParamValueAsArray(aj._feedbackOptions,"externalLinkId",ak.externalLinkId),ah=k.getInitParamValue(aj._feedbackOptions,"backgroundColor",ak.backgroundColor),aB=k.getInitParamValue(aj._feedbackOptions,"borderColor",ak.borderColor),av=k.getInitParamValue(aj._feedbackOptions,"snapshotEnabled",((ak.snapshotEnabled===e)?true:ak.snapshotEnabled)),ax=k.inArray(ac,au.launchTypes[0]),al=ak.imgWidth,ae=ak.imgHeight,ai=ak.showWeIcon;ah=ah.indexOf("#")===0?ah:("#"+ah);aB=aB.indexOf("#")===0?aB:("#"+aB);var ao=a.createElement("div");s.widgetContainer.appendChild(ao);ao.setAttribute("id",s.widgetContainerId+"-content");var aC=ao.style;aC.borderColor=aB;ao=k.applyCss(ao,au.containerCss);ao=k.applyCss(ao,aw.getContainerCssBasedOnConfig(ar));var aA=l["webengage.feedback.tab"]||"bubble";if((aA==="bubble")&&(c.BrowserDetect.isMobile()||k.isSmallScreen())){var aa=a.body.clientWidth/d.screen.availWidth;aC.background="transparent";aC.border="0px";if(aa>2){aC.width="130px";aC.height="130px";aC.bottom="30px";if(ar==="right"){aC.right="30px"}else{aC.left="30px"}}else{aC.width="58px";aC.height="58px";aC.bottom="15px";if(ar==="right"){aC.right="15px"}else{aC.left="15px"}}aC.boxSizing="border-box";aC.textAlign="left"}else{ao.style.width=(parseInt(al)+3+3)+"px";var X=(parseInt(ae)+7+7+(ai?(3+26):0))+"px";aC.top=(("innerHeight" in d?d.innerHeight:a.documentElement.clientHeight)-parseInt(ae))/2+"px"}aC.zIndex=(k.getMaxZIndex()+1);var ag=a.createElement("div");ao.appendChild(ag);ag.id=s.widgetContainerId+"-close-div";ag=k.applyCss(ag,au.closeCommonCss);ag=k.applyCss(ag,aw.getCloseCssBasedOnConfig(ar));ag.style.backgroundImage="url('"+at+"')";if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){ag.style.backgroundImage="";ag.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+at+"')"}var aq=a.createElement("div");ao.appendChild(aq);aq.setAttribute("id",s.widgetContainerId+"-content-expand-collapse");var an=aq.style;aq=k.applyCss(aq,au.commonCss);aq=k.applyCss(aq,aw.getButtonCssBasedOnConfig(ar,ai));if((aA==="bubble")&&(c.BrowserDetect.isMobile()||k.isSmallScreen())){var af=(aa>2)?'viewBox="0 0 80 80" style="padding:15px 20px;"':'viewBox="0 0 180 180" style="padding:7px;"';var am='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" width="40px" height="40px" '+af+' version="1.1"><title>180 - iPhone 6 Plus</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="180---iPhone-6-Plus" sketch:type="MSArtboardGroup" fill="#1A1918"><g id="Imported-Layers" sketch:type="MSLayerGroup" transform="translate(11.000000, 17.000000)"><path d="M137.853,52.283 C135.333462,22.50325 102.805731,0.973875 65.1838846,4.134375 C27.5620385,7.319375 -0.917307692,34.012125 1.57776923,63.76125 C3.29619231,84.2065 19.1839615,100.7685 41.1687692,108.100125 C38.7042692,115.156125 34.185,122.518375 26.1555,129.24975 C26.1555,129.24975 55.5582692,128.2575 72.8892692,111.934375 C73.3418077,111.90375 73.7882308,111.916 74.253,111.87925 C111.880962,108.71875 140.348077,82.032125 137.853,52.283" id="Fill-1" sketch:type="MSShapeGroup"/><path d="M157.373308,102.74075 C158.296731,90.993 152.621654,79.98025 143.136692,72.415875 C135.266192,96.10125 111.434538,114.457875 81.4875,119.308875 C88.5874615,127.932875 99.7235769,134.015 112.596462,135.20325 C118.491692,135.74225 124.172885,135.20325 129.407654,133.77 C139.400192,139.307 151.312962,145.19925 151.312962,145.19925 C147.215654,141.42625 143.864423,131.8835 142.213269,127.89 C150.799269,122.01 156.578308,113.12875 157.373308,102.74075" id="Fill-2" sketch:type="MSShapeGroup"/></g></g></g></svg>';aq.innerHTML=am;an.height="100%";an.width="100%";an.borderRadius="75px";an.background="#fff";an.border="1px solid #ccc";an.mozBoxShadow="1px 1px 8px #888888";an.webkitBoxShadow="1px 1px 8px #888888";an.boxShadow="1px 1px 8px #888888";an.padding="0";an.boxSizing="border-box";if(aa>2){an.fontSize=(aa*13)+"px";an.lineHeight="1.5em"}else{an.textAlign="center"}}else{aq=k.applyCss(aq,aw.getButtonCssBasedOnBackgroundColor(ah));if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){an.backgroundImage="";var W=(k.isColorTooLight(ah)?au.feedbackBgImageForLightBackground:au.feedbackBgImageForDarkBackground);an.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+W+"')"}an.backgroundColor=ah}an.zIndex=k.getMaxZIndex()+1;if(!ax){ao.style.display="none"}var ad=a.createElement("div");aq.appendChild(ad);ad.style.margin="0px";ad.style.padding="0px";if((aA==="bubble")&&(c.BrowserDetect.isMobile()||k.isSmallScreen())){ad.style.width="20%";ad.style.width="20%";if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){ad.style.backgroundImage="";an.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+au.feedbackTextImage+"')"}}else{ad.style.width=parseInt(al)+"px";ad.style.height=parseInt(ae)+"px";ad=k.applyCss(ad,aw.getCustomTextImageCss());if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){ad.style.backgroundImage="";an.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+au.feedbackTextImage+"')"}}ag.style.zIndex=k.getMaxZIndex()+1;aj.close=function(){try{ao.removeChild(a.getElementById(s.widgetContainerId+"-loading"))}catch(aE){}try{ao.removeChild(a.getElementById(s.widgetContainerId+"-content"))}catch(aE){}try{a.getElementById(s.widgetContainerId+"-content-expand-collapse").isCurrentlyOpen=false}catch(aE){}ag.style.display="none";ao.style.width=(parseInt(al)+3+3)+"px";if(!ax){aq.style.display="none"}};ag.onclick=function(){c.withELog(function(){aj.close()})};function Y(){if(l["webengage.feedback.custom"]){ao.style.display="block";ao.style.border="none";ao.style["background-color"]="transparent";ao.style.position="static";ao.style.overflow="visible";ao.style.width="0px";ao.style.height="0px"}else{if(c.BrowserDetect.isMobile()||k.isSmallScreen()){ao.style.display="block";var aH=c.feedback.getLightBoxBaseDiv();s.weDataContainer.appendChild(aH);var aG=c.feedback.getLightBoxContainerDiv();s.weDataContainer.appendChild(aG);var aF=c.feedback.getMobileLoadingDiv();aF.innerHTML="Loading<br/>please wait ...";s.weDataContainer.appendChild(aF);var aI=c.util.getElementHeight(aF);var aJ=c.util.getWindowHeight();aF.style.top=(aJ-aI)/2+"px";aF.style.display="block"}else{ao.style.display="block";ao.style.width="300px";var aF=c.feedback.getLoadingDiv();aF=k.applyCss(aF,au.loadingCss);aF.innerHTML="Loading<br/>please wait ...";ao.appendChild(aF);k.alignCenter(aF,ao,ar);ag.style.display="block"}}aj.feedbackLoadStartTime=new Date();var aE=s.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?s.loadFeedbackWidgetUrlv3:s.loadFeedbackWidgetUrl);c.feedbackLoadStartTime=new Date();k.withWeJquery(function(){var aK=a.createElement("script");aK.type="text/javascript";aK.src=aE;s.widgetContainer.appendChild(aK)})}aq.onclick=function(){c.withELog(function(){Y()})};if(ab&&ab.length>0){(function(){for(var aF=0;aF<ab.length;aF++){var aG=ab[aF];var aE=a.getElementById(aG);if(aE){aE.onclick=function(aH){var aI=aH||d.event;aI.cancelBubble=true;if(aI.stopPropagation){aI.stopPropagation()}if(aI.preventDefault){aI.preventDefault()}else{aI.returnValue=false}aq.onclick();return false}}}})()}a.$FeedbackWidgetInitializer={containerId:s.widgetContainerId,licenseCode:r,appHost:s.feedbackAppHost,minWidth:(parseInt(al)+3+3)+"px",maxWidth:au.maxWidth,minHeight:X,maxHeight:au.maxHeight,showFeedbackButton:ax,buttonAlignment:ar,borderColor:aB.substring(1),snapshotEnabled:av,currentInstance:aj,mobileLBEnabled:(c.BrowserDetect.isMobile()||k.isSmallScreen()),widgetLanguage:aj._feedbackOptions.language};if(aj._feedbackOptions.showForm==true){aq.onclick()}}else{if(E.feedback&&E.feedback.isEnabled&&a.location.protocol=="https:"&&!E.sslEnabled){c.eLog(null,"error","Feedback - Widget turned off for SSL encrypted page","Feedback - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{s.widgetContainer.removeChild(a.getElementById(s.widgetContainerId+"-content"))}catch(U){}T=[];a.$FeedbackWidgetInitializer=null})},abort:function(){k.abortAllInstances(T)},attachEventListner:function(){var U=this,V=arguments;c.withELog(function(){k.bind.apply(U,V);if(T.length>0){for(var W=0;W<T.length;W++){T[W].enableCallbacks=true;k.bind.apply(T[W],V)}}})}}})());k.extend("ruleExecutor.constants",{SEARCH_ENGINE_REGEXP:{google:{pattern:"^(?:http(s)?://)?(www\\.)?google\\..*/.*$",queryParam:"q"},yahoo:{pattern:"^(?:http(s)?://)?(?:([a-z]{2})\\.)?search\\.yahoo\\.com/.*$",queryParam:"p"},bing:{pattern:"^(?:http(s)?://)?((?:www|[a-z]{2})\\.)?bing\\.com/search\\?.*$",queryParam:"q"},ask:{pattern:"^(?:http(s)?://)?www\\.ask\\.com/.*$",queryParam:"q"},baidu:{pattern:"^(?:http(s)?://)?www\\.baidu\\.com/.*$",queryParam:"wd"},yandex:{pattern:"^(?:http(s)?://)?www\\.yandex\\.com/.*$",queryParam:"text"},duckduckgo:{pattern:"^(?:http(s)?://)?www\\.duckduckgo\\.com/.*$",queryParam:"q"}},SOCIAL_MEDIA_REGEX:"^(?:http(s)?://)?(.*.)?(facebook|twitter|t|pinterest)\\.(com|co)/.*$",XPATH_PLUGIN_FILE:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js"});k.extend("ruleExecutor.dependencies",{XPATH:function(U,V,T){c.XPATH.util.loadXPath(V,T)},GEO:function(U,V,T){c.GEO.load(V,T)}});k.extend("XPATH.util",(function(){return{loadXPath:function(V,U){if((c.BrowserDetect.browser()==="Explorer")&&(!a.evaluate)){var T="//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js";k.loadScript.apply(s.widgetContainer,[T,function(){wgxpath.install();if(typeof V==="function"){V()}},null,function(){if(typeof U==="function"){U()}}])}else{if(typeof V==="function"){V()}}},isXpathLoaded:function(){return(a.evaluate?true:false)},getXPathElement:function(W){var T=null;if(W&&W.indexOf("|")>-1){var V=W.split("|");W=V[0]+"/@"+V[1]}try{var U=a.evaluate(W,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);T=(U&&U.singleNodeValue&&c.util.isElementExists(U.singleNodeValue))?U.singleNodeValue:null}catch(X){}return T},evaluateXPathQuery:function(U){var T=c.XPATH.util.getXPathElement(U);if(T){return T.textContent}else{return null}}}})());k.extend("ruleExecutor.dependency.util",{xPathExists:function(){if(c.XPATH.util.isXpathLoaded()){return true}else{var T={};T.type="XPATH";throw T}},geoDataExists:function(){if(c.GEO.isGeoLoaded()){return true}else{var T={};T.type="GEO";throw T}}});k.extend("ruleExecutor.util",(function(T){return{isMatches:function(X,V){if(X){if(X instanceof Array){for(var Y=0;Y<X.length;Y++){if(c.ruleExecutor.util.isMatches(X[Y],V)){return true}}}else{if(V instanceof Array){for(var W=0;W<V.length;W++){if(X.match(new RegExp(V[W],"mgi"))){return true}}}else{if(X.match(new RegExp(V,"mgi"))){return true}}}}return false},getTimeInMS:function(V){if(!V||(new Date(V)).toString()==="Invalid Date"){return null}return(new Date(V)).getTime()},getCurrentTimeInSec:function(Y){var X=new Date(Y);var V=X.getHours();var Z=X.getMinutes();var W=X.getSeconds();return(V*60*60+Z*60+W)},getClientTime:function(){var V=k.getCurrentTime();return c.ruleExecutor.util.getCurrentTimeInSec(V)},get4DD:function U(Y,Z){Y=new Date(Y);if(Y.toString()==="Invalid Date"){return null}var ai=String(Z).match(/P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)S)?)?/);var ab=parseInt(ai[1]||0),V=parseInt(ai[2]||0),ac=parseInt(ai[3]||0),W=parseInt(ai[4]||0),ag=parseInt(ai[6]||0),ad=parseInt(ai[7]||0),aa=parseInt(ai[8]||0);var X=Y.getUTCFullYear(),af=Y.getUTCMonth(),ae=Y.getUTCDate();if(V>=12){ab+=Math.floor(V/12);V=V%12}X+=ab;af+=V;if(af<0){X-=1;af+=12}if(af>=12){X+=1;af=af-12}var ah=[31,28,31,30,31,30,31,31,30,31,30,31];if(ae>ah[af]){ae=(X%4===0&&af===1)?29:ah[af]}Y.setUTCDate(1);Y.setUTCFullYear(X);Y.setUTCMonth(af);Y.setUTCDate(ae);Y.setTime(Y.getTime()+(aa+ad*60+ag*3600+W*86400+ac*604800)*1000);return Y.getTime()},getClientDayOfWeek:function(){return k.getCurrentWeekDay()},getPublisherTime:function(){var V=k.getCurrentTime(s.publisherTimeZoneOffset);return c.ruleExecutor.util.getCurrentTimeInSec(V)},getEventData:function(W,V){if(W==="on_exit"||W==="we_wk_on_exit"||W==="we_wk_leaveIntent"){W="we_leaveIntent"}if(W==="we_wk_time"||W==="time"||W==="we_wk_pageDelay"){W="we_pageDelay"}if(W==="totalTimeOnSite"||W==="we_wk_totalTimeOnSite"){W="we_totalTimeOnSite"}if(W==="we_wk_scrollPercentage"){W="we_scrollPercentage"}try{if(j.hasOwnProperty(W)){if(V){if(j[W].hasOwnProperty(V)){return j[W][V]}else{return null}}else{if(W==="we_leaveIntent"){return j[W]["happened"]}else{return j[W]}}}}catch(X){return null}},clearAllEventData:function(){j={}},isContainsSearchTerms:function(X,Y){var W=false;if(typeof X!=="function"||!Y||!(Y instanceof Array)||Y.length<=0){return false}var V=X();if(typeof V!==e&&V){for(var Z=0;Z<Y.length;Z++){W=c.ruleExecutor.util.isContains(V,c.ruleExecutor.util.jsTokenizer(Y[Z]," "),"contains_all");if(typeof W==="boolean"&&W){break}}}return W},isContains:function(aa,ae,W){var ad=aa;if(typeof(aa)==="function"){ad=aa()}var ac=false;var X=W||"contains_any";if(ad!==e&&ad){var V=[];if(ad instanceof Array){for(var ab=0;ab<ad.length;ab++){V[ad[ab].toLowerCase()]=true}}else{V[ad]=true}if(ae!==e&&ae){if(ae instanceof Array){if(X=="contains_all"){for(var Z=0;Z<ae.length;Z++){if(V[ae[Z].toLowerCase()]==true){ac=true;continue}ac=false;break}}else{for(var Y=0;Y<ae.length;Y++){if(V[ae[Y].toLowerCase()]==true){ac=true;break}}}}else{ac=V[ae.toLowerCase()]==true}}}return ac},getReferrers:function(){var W=[];if(a.referrer){W[W.length]=a.referrer.toLowerCase()}var V=k.getSessionCookie();if(V&&V.referrer&&(!a.referrer||V.referrer!=a.referrer)){W[W.length]=V.referrer.toLowerCase()}return W},getCountry:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return k.getSessionCookie().country||null}},getRegion:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return k.getSessionCookie().region||null}},getCity:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return k.getSessionCookie().city||null}},getWECountry:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return k.getSessionCookie().we_country||null}},getWERegion:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return k.getSessionCookie().we_region||null}},getWECity:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return k.getSessionCookie().we_city||null}},getSearchEngineMatchResult:function(){var Y=c.ruleExecutor.util.getReferrers();var V={isSER:false};for(var X in T.SEARCH_ENGINE_REGEXP){for(var W=0;W<Y.length;W++){if(c.ruleExecutor.util.isMatches(Y[W],T.SEARCH_ENGINE_REGEXP[X].pattern)!=false){V.isSER=true;V.url=Y[W];V.queryParam=T.SEARCH_ENGINE_REGEXP[X].queryParam;break}}if(V.isSER===true){break}}return V},isSearchEngineReference:function(){return(c.ruleExecutor.util.getSearchEngineMatchResult()).isSER},isSocialMediaReference:function(){return c.ruleExecutor.util.isMatches(c.ruleExecutor.util.getReferrers(),T.SOCIAL_MEDIA_REGEX)},isFirstTime:function(){var V=k.getWebengageCookie();return(V&&V.sc==1)?true:false},getSearchTerms:function(){var X=null;var V=c.ruleExecutor.util.getSearchEngineMatchResult();if(V.isSER){var W=decodeURI(c.ruleExecutor.util.getParamValue(V.url,V.queryParam));if(W){X=c.ruleExecutor.util.jsTokenizer(W," ")}}return X},jsTokenizer:function(Y,aa){var Z=[];if(Y!==e&&Y){var X=k.escapeForRegExp(",\r\n");if(aa!==e&&aa){if(aa instanceof Array){X=k.escapeForRegExp(aa.join(""))}else{X=k.escapeForRegExp(aa)}}Y=Y.replace(new RegExp("["+X+"]","g"),"\n");var V=Y.split(/\n/g);for(var W=0;W<V.length;W++){if(V[W]!=""){Z[Z.length]=V[W]}}}return Z},getParamValue:function(W,Y){var Z="";var X=new RegExp("[\\?&]"+Y+"=([^&#]*)");var V=X.exec(W);if(V!==null){Z=V[1]}return Z},escapeForRegExp:function(V){return k.escapeForRegExp(V)},getTotalPageView:function(){var V=k.getSessionCookie();return(V&&V.pvc)?V.pvc:1},sampling:function(V){var W=this.entityId||V;if(W){var X=k.getWebengageCookie(),Y=k.getHashCode(W+X.luid);return Math.abs(Y%100)}return 0},getSessionCookieReferer:function(){var V=k.getSessionCookie();var W=V.referrer;if(!W){return null}return W},getXpathStringResult:function(V){if(c.ruleExecutor.dependency.util.xPathExists()){return c.XPATH.util.evaluateXPathQuery(V)}},getXpathIntegerResult:function(W){if(c.ruleExecutor.dependency.util.xPathExists()){var V=c.XPATH.util.evaluateXPathQuery(W);if(V){return parseFloat(V)}else{return null}}},loadDependency:function(V,X,Z,W){var Y=c.ruleExecutor.dependencies[V];if(Y&&(typeof Y==="function")){Y(X,Z,W)}else{if(W&&typeof W=="function"){W()}}},eventTrigger:function(){for(var W in c.notification.qualifyingNotifications){var X=c.notification.qualifyingNotifications[W];if(c.ruleExecutor.execute(W,X.ruleR2Code)){c.notification.render({notificationId:W,forcedRender:true,skipRules:true});c.notification.qualifyingNotifications={}}}for(var W in c.survey.qualifyingSurveys){var V=c.survey.qualifyingSurveys[W];if(c.ruleExecutor.execute(W,V.ruleR2Code)){c.survey.render({surveyId:W,forcedRender:true,skipRules:true});c.survey.qualifyingSurveys={}}}}}})(c.ruleExecutor.constants));k.extend("ruleExecutor",(function(X,W){var T={};var V=function(){T={referer:X.getReferrers,url:k.getClientPageUrl(),cookie:function(aa){return k.getCookie(aa,true)},country:X.getCountry,region:X.getRegion,city:X.getCity,we_country:X.getWECountry,we_region:X.getWERegion,we_city:X.getWECity,time:"",isFirstTime:X.isFirstTime,isSER:X.isSearchEngineReference,isSMR:X.isSocialMediaReference,searchTerms:X.getSearchTerms,os:c.BrowserDetect.os,device:c.BrowserDetect.device,browser:c.BrowserDetect.browser,browser_version:c.BrowserDetect.version,endUserTime:X.getClientTime,publisherTime:X.getPublisherTime,totalPageView:X.getTotalPageView,sampling:X.sampling,contentXPathString:X.getXpathStringResult,contentXPathInteger:X.getXpathIntegerResult,contentXPathNode:X.getXpathStringResult,isDirectVisitor:X.getSessionCookieReferer,dayOfWeek:X.getClientDayOfWeek,event:X.getEventData,eventCriteria:c.UserProfile.getEventCriteriaValue,userAttr:c.UserProfile.getUserAttribute,userSys:c.UserProfile.getProfileUserLevel,userDevice:c.UserProfile.getProfileDeviceLevel};var Z={};for(var Y in T){if(T.hasOwnProperty(Y)){Z["we_wk_"+Y]=T[Y]}}k.copy(T,Z)};var U=[];V();return{execute:function(Z,ab,Y){var aa=k.copy({},T);aa=k.copy(aa,(Y?Y:{}),true);aa.entityId=Z;ab=(ab!==e)?ab:true;return(new Function("_weUtil","_ruleUtil","_constants","operands","return ("+ab+");")(k,X,W,aa))},executeEvent:function(Z,ab){var Y;try{Y=c.ruleExecutor.execute(null,Z,j)}catch(aa){Y=false}if(Y){ab()}else{U.push({ruleCode:Z,callback:ab})}},pushToQueue:function(Y,Z){U.push({ruleCode:Y,callback:Z})},storeListener:function(){var Y=U.splice(0,U.length);while(Y.length!=0){var Z=Y.splice(0,1);c.ruleExecutor.executeEvent(Z[0]["ruleCode"],Z[0]["callback"])}},getStore:function(){},loadOperands:function(){V()}}})(c.ruleExecutor.util,c.ruleExecutor.constants));k.extend("survey",(function(){var X=[],Y=function(ah,ab){if(ah!==e&&ah){var ai=this,ae=E.survey.config,ag=ae.theme||"",ac="320px",al="1px",ak=a.createElement("div");if(ai._surveyOptions.width){var af=parseInt(ai._surveyOptions.width,10);if(!isNaN(af)){ac=af+"px"}}ai.height=al;ai.width=ac;ai.surveyConfigDto=ae;ai.theme=ag;ai.surveyEId=ah;ai._weProperties=s;ai.showOnExit=(typeof ab==="boolean"?ab:false);ai.isMobileSurvey=(typeof isMobileSurvey=="boolean"?isMobileSurvey:false);var aj=ai._surveyOptions.scope[ah]||ai._surveyOptions.scope.all||null;if(aj){ai.scope=(aj.scope?aj.scope:"");ai.scopeType=(aj.scopeType?aj.scopeType:"")}s.widgetContainer.appendChild(ak);ak.setAttribute("id",s.widgetContainerId+"-survey-content");a.$SurveyWidgetInitializer={currentInstance:ai,containerId:s.widgetContainerId,licenseCode:r,appHost:s.surveyAppHost,width:parseInt(ac,10)};var ad=s.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?s.loadSurveyWidgetUrlv3:s.loadSurveyWidgetUrl(ai.layoutAttributes.id));k.withWeJquery(function(){k.loadScript.apply(s.widgetContainer,[ad,function(){setTimeout(function(){if(a.$SurveyWidgetInitializer.currentInstance.surveyEId===ah){$weJQuery.loadSurveyForm()}},10)}])})}},W=function(af,ah,ab){if(af!==e&&af){if(typeof af==="object"){if(af instanceof Array){for(var ad=0;ad<af.length;ad++){W(af[ad],ah,ab)}}else{var ae=af.scope;if(ae){var ag=af.surveyIds;if(ag!==e&&ag instanceof Array&&ag.length>0){for(var ac=0;ac<ag.length;ac++){ab[ag[ac]]={scope:ae,scopeType:(af.scopeType||"")}}}else{ab.all={scope:ae,scopeType:(af.scopeType||"")}}}}}else{ab.all={scope:af,scopeType:(ah||"")}}}},T=function(ai,ad,an){if(ai&&ai.length>0){var aE=(new Array()).concat(ai);var aH=aE[0],ar=k.getSessionCookie(),ay=k.getWebengageCookie(),aq=k.getInitParamValue(an._surveyOptions,"alignment",E.survey.config.alignment,["left","right"]),ap=aH,av=ad[ap].ruleCode,aj,aB,am=ad[ap].pageRuleCode,aA=ad[ap].sessionRuleCode,aw=k.copy({},ad[ap]["la"]),ae=ad[ap].startTimestamp,ah=ad[ap].endTimestamp,ag=(!an._surveyOptions.skipRules&&typeof ad[ap].showOnExit==="boolean")?ad[ap].showOnExit:false,ak=((an._surveyOptions.skipRules||ag)?0:(ad[ap].totalTimeOnSite?ad[ap].totalTimeOnSite-((new Date()).getTime()-(ar.sst||0)):0)),aG=((an._surveyOptions.skipRules||ag)?0:((parseInt(an._surveyOptions.delay,10)>=0)?parseInt(an._surveyOptions.delay,10):Math.max(ak,ad[ap].timeSpent))),aC=ad[ap].maxTimesPerUser,af=an._surveyOptions.scope[ap]||an._surveyOptions.scope.all||null,ax=ap+(af&&af.scope&&(af.scopeType+"").toUpperCase()!="GLOBAL"?"["+k.escapeScopeChars(af.scope)+"]":""),aD=k.escapeForRegExp(ax),ac=ad[ap].mobile,ab=ad[ap].sampling||100;if(!an._surveyOptions.isDemoMode){aj=ad[ap].pageRuleCode||"";aB=ad[ap].eventRuleCode||"";if(aA&&!ad[ap].ecp){aj=(aj?aj+" && ":"")+aA}else{if(aA&&ad[ap].ecp){aB=(aB?aB+" && ":"")+aA}}if(typeof ac!=="undefined"&&ac&&!c.BrowserDetect.isMobile()){ai.splice(0,1);return T(ai,ad,an)}if(!an._surveyOptions.forcedRender&&((ar&&ar.closedSurveys!==e&&(ar.closedSurveys.match("##"+aD+"##")||ar.closedSurveys.match("##"+aD+"$")))||(ay&&ay.takenSurveys!==e&&(ay.takenSurveys.match("##"+aD+"##")||ay.takenSurveys.match("##"+aD+"$"))))){aE.splice(0,1);return T(aE,ad,an)}var au=c.util.getTotalTimesShown(aD,"survey");if(!an._surveyOptions.forcedRender&&aC!==e){if(aC<=au){aE.splice(0,1);return T(aE,ad,an)}}var al={timeSpent:aG,showOnExit:ag,maxTimesPerUser:aC,startTimestamp:ae,endTimestamp:ah,ruleCode:av,ruleR1Code:aj,ruleR2Code:aB,layoutAttributes:aw,sampling:ab};V(ap,al,an,function(){aE.splice(0,1);return T(aE,ad,an)})}else{var al={timeSpent:aG,showOnExit:ag,maxTimesPerUser:aC,startTimestamp:ae,endTimestamp:ah,ruleCode:av,ruleR1Code:aj,ruleR2Code:aB,layoutAttributes:aw,sampling:ab};if(!an.surveysToExecuteData){an.surveysToExecuteData={}}an.surveysToExecuteData[ap]=al;aE.splice(0,1);return T(aE,ad,an)}}else{if(an.surveysToExecuteData){var aF=null;var az=[];for(var aH in an.surveysToExecuteData){var at=aH;az[az.length]=at;aF=((aF==null||aF>an.surveysToExecuteData[at]["timeSpent"])?an.surveysToExecuteData[at]["timeSpent"]:aF)}var ao=an.startExecutionTime?(new Date()).getTime()-an.startExecutionTime:0;an.totalTimeElapsed=an.totalTimeElapsed+ao;an.minTimespentVal=(aF-ao<0)?0:aF-ao;return Z(az,an.surveysToExecuteData,an,ad)}}},V=function(ad,ac,ag,ai){try{if(ac.startTimestamp||ac.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var af=k.getServerTimeStamp(),ah=ac.startTimestamp,ab=ac.endTimestamp;if(ab<af||af<ah){return ai()}}}if((ag._surveyOptions.skipRules)||(!ac.ruleR1Code)||(c.ruleExecutor.execute(ad,ac.ruleR1Code,ag._surveyOptions.ruleData))){if(!ag.surveysToExecuteData){ag.surveysToExecuteData={}}ag.surveysToExecuteData[ad]=ac}return ai()}catch(ae){if(ae&&ae.type){c.ruleExecutor.util.loadDependency(ae.type,ac,function(){V(ad,ac,ag,ai)},ai)}else{c.eLog(ae);ai()}}},aa=function(ad,ae,ac,ai,af,ag){if(af.rendered||(ac&&af.pfsId&&af.pfsId!==ad)){return}if(af.pfsId&&af.pfsId===ad){var ah=0;var aj=setInterval(function(){ah++;if(typeof af.animateSurvey==="function"){clearInterval(aj);af.animateSurvey()}if(ah>25){clearInterval(aj)}},200)}else{var ab=0;var ak=0;if(!ac){if(arguments&&arguments[0]){ak=ae||0}ab=af.totalTimeElapsed+af.minTimespentVal}else{af.pfsId=ad}c.setTimeout(function(){af.layoutAttributes=ag;Y.apply(af,[ad,ac])},((ak-ab)<0?0:(ak-ab)))}},U=function(ah,ad){var ag=this;for(var ae=0;ae<ah.length;ae++){var af=ah[ae];var ac=ad[af].sampling||100;var ab=c.ruleExecutor.util.sampling(af);if(ac>=ab){return af}else{c.util.markEntityAsShown(af,"survey",ag,true);c.setTimeout(function(){ag.dump("abs_view",{id:af})},10)}}},Z=function(ab,ad,ae,ac){c.setTimeout(function(){var ai;var ag=function(ao){for(var al=0;al<ao.length;al++){var an=ao[al];var ak=ac[an];if(typeof ai==="undefined"){ai=ak.order}if(ai===ak.order){var am=(function(ap){return function(){var ar=ad[ap].sampling||100;var aq=c.ruleExecutor.util.sampling(ap);if(ar>=aq){aa(ap,(ad[ap]["timeSpent"]||0),ad[ap]["showOnExit"],ad[ap]["maxTimesPerUser"],ae,ad[ap]["layoutAttributes"])}else{c.util.markEntityAsShown(ap,"survey",ae,true);c.setTimeout(function(){ae.dump("abs_view",{id:ap})},10)}}})(an);if(ae._surveyOptions.skipRules||!(ad[an].ruleR2Code||ak.eventRuleCode)){am();return}if(ad[an]["showOnExit"]){aa(an,(ad[an]["timeSpent"]||0),ad[an]["showOnExit"],ad[an]["maxTimesPerUser"],ae,ad[an]["layoutAttributes"])}c.ruleExecutor.pushToQueue(ad[an].ruleR2Code||ak.eventRuleCode,am)}}c.events.publish("storeChange")};if(!ae._surveyOptions.forcedRender){var af=[];for(var aj=0;aj<ab.length;aj++){if(aj>0){af[af.length]="&"}af[af.length]="surveyIds="+ab[aj]}var ah=s.findAllTakenSurveysUrl()+"&"+af.join("")+(ae._surveyOptions.scope?"&scope="+encodeURIComponent(k.stringify(ae._surveyOptions.scope)):"");k.loadScript.apply(s.widgetContainer,[ah,function(al,an,am){var ar=[],ao={};if(typeof we_notToExecuteSurveyIdsMap!="undefined"){if(we_notToExecuteSurveyIdsMap.takenSurveyIds!==e&&we_notToExecuteSurveyIdsMap.takenSurveyIds.length>0){for(var ak=0;ak<we_notToExecuteSurveyIdsMap.takenSurveyIds.length;ak++){var at=ae._surveyOptions.scope[we_notToExecuteSurveyIdsMap.takenSurveyIds[ak]]||ae._surveyOptions.scope.all||null;var av=(at&&at.scope?at.scope:"");var aq=(at&&at.scopeType?at.scopeType:"");ao[we_notToExecuteSurveyIdsMap.takenSurveyIds[ak]]=true;k.markSurveyAsTaken((we_notToExecuteSurveyIdsMap.takenSurveyIds[ak]+(av&&(aq+"").toUpperCase()!="GLOBAL"?"["+k.escapeScopeChars(av)+"]":"")))}}if(we_notToExecuteSurveyIdsMap.inactiveSurveyIds!==e&&we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length>0){for(var ap=0;ap<we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length;ap++){ao[we_notToExecuteSurveyIdsMap.inactiveSurveyIds[ap]]=true}}}for(var au=0;au<an.length;au++){if(!ao[an[au]]){ar[ar.length]=an[au]}}ag(ar)},[ad,ab,ae.totalTimeElapsed]])}else{ag(ab)}},ae.minTimespentVal)};return{cbid:1,render:function(ab){return c.withELog(function(){return(new function(){c.survey.clear();r1QualifiedSurveyPriority=e;var af=this;af.cbid=1;X[X.length]=af;af.abort=function(){k.abortInstance(this)};var ad={surveyId:l["webengage.survey.surveyId"]||"",skipRules:l["webengage.survey.skipRules"]||false,forcedRender:l["webengage.survey.forcedRender"]||false,delay:l["webengage.survey.delay"]||-1,customData:k.copy({},l["webengage.survey.customData"]||l["webengage.customData"]||{}),ruleData:k.copy({},l["webengage.survey.ruleData"]||l["webengage.ruleData"]||{}),isDemoMode:l["webengage.survey.isDemoMode"]||l["webengage.isDemoMode"]||false,alignment:l["webengage.survey.alignment"]||"",scope:l["webengage.survey.scope"]||l["webengage.scope"]||"",scopeType:l["webengage.survey.scopeType"]||l["webengage.scopeType"]||"",enableCallbacks:l["webengage.survey.enableCallbacks"]||l["webengage.enableCallbacks"]||false,width:l["webengage.survey.width"]};var al={showAllClosedAndTakenSurveys:"forcedRender",data:"customData",demo:"isDemoMode"};if(ab!==e&&!k.isEmptyObject(ab)){for(var ac in ab){var ag=al[ac];if(ag!==e&&ag){ab[ag]=ab[ac];delete ab[ac]}}}if(ab&&ab.customData){ad.customData=k.copy(ad.customData,ab.customData,true);delete ab.customData}if(ab&&ab.ruleData){ad.ruleData=k.copy(ad.ruleData,ab.ruleData,true);delete ab.ruleData}af._surveyOptions=k.copy(ad,(ab?ab:{}),true);af._surveyOptions.forcedRender=typeof af._surveyOptions.forcedRender==="boolean"?af._surveyOptions.forcedRender:false;if(af._surveyOptions.forcedRender){af._surveyOptions.scope=(new Date()).getTime();af._surveyOptions.scopeType="session"}var ae={};W(af._surveyOptions.scope,af._surveyOptions.scopeType,ae);af._surveyOptions.scope=ae||"";af.enableCallbacks=(typeof af._surveyOptions.enableCallbacks==="boolean"?af._surveyOptions.enableCallbacks:false);if(E.survey&&(E.survey.isEnabled||af._surveyOptions.isDemoMode)&&!k.isEmptyObject(E.survey.ruleMap)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&E.sslEnabled))&&!E.isSRQuotaOver){k.copy(af,F,true);af.onLoad((af._surveyOptions.onLoad||l["webengage.survey.onLoad"]));af.onSubmit((af._surveyOptions.onSubmit||l["webengage.survey.onSubmit"]));af.onClose((af._surveyOptions.onClose||l["webengage.survey.onClose"]));af.onOpen((af._surveyOptions.onOpen||l["webengage.survey.onOpen"]));af.onComplete((af._surveyOptions.onComplete||l["webengage.survey.onComplete"]));c.survey.addToInstance(af);af.dump=function(aq,an){var ap=this;var am={id:ap.surveyEId,layoutId:ap.layout},ao={};k.copy(am,(an||{}),true);am.tvc=k.getTotalTimesShown(am.id,"survey",false,(aq==="abs_view"?true:false));am.tvcs=k.getTotalTimesShown(am.id,"survey",true,(aq==="abs_view"?true:false));if(ap.showOnExit){am.showOnExit=ap.showOnExit}if(!k.isEmptyObject(ap._surveyOptions.ruleData)){am.ruleData=ap._surveyOptions.ruleData}if(!k.isEmptyObject(ap._surveyOptions.customData)){ao=ap._surveyOptions.customData}this.executeCallbacks("dump",am,aq);c.dump("survey_"+aq,ao,am)};k.attachEventListners("survey",af);af.totalTimeElapsed=0;var ah=E.survey.ruleMap,ak=E.survey.order,ai=af._surveyOptions.surveyId;if(ai&&ah[ai]){var aj=[];aj[0]=ai;ak=aj}af.startExecutionTime=(new Date()).getTime();T(ak,ah,af)}else{if(E.survey&&E.survey.isEnabled&&a.location.protocol=="https:"&&!E.sslEnabled){c.eLog(null,"error","Survey - Widget turned off for SSL encrypted page","Survey - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{if(a.getElementById(s.widgetContainerId+"-base")){var ab=a.getElementsByTagName("webengagedata")[0]}else{s.widgetContainer.removeChild(a.getElementById(s.widgetContainerId+"-survey-content"))}}catch(ac){}a.$SurveyWidgetInitializer=null;X=[]})},abort:function(){k.abortAllInstances(X)},attachEventListner:function(){var ab=this,ac=arguments;c.withELog(function(){k.bind.apply(ab,ac);if(X.length>0){for(var ad=0;ad<X.length;ad++){X[ad].enableCallbacks=true;k.bind.apply(X[ad],ac)}}})}}})());k.extend("IFRAMES",(function(){var T=[];return{create:function(W,Y,aa){this.remove(W);var ab=aa||{};var U;try{U=a.createElement('<iframe name="'+W+'">')}catch(Z){U=a.createElement("iframe");U.name=W}U.id=W;if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){U.src="javascript:void(0);"}U.frameBorder=ab.frameBorder||"0";U.marginHeight=ab.marginHeight||"0";U.marginWidth=ab.marginWidth||"0";U.allowTransparency=ab.allowTransparency||"true";var V=U.style;V.zIndex=(k.getMaxZIndex()+1);V.position="absolute";V.backgroundColor=ab.backgroundColor||"transparent";V.bottom=ab.bottom||"0px";V.right=ab.right||"0px";V.border=ab.border||"none";V.overflow=ab.overflow||"hidden";V.visibility=ab.visibility||"hidden";if(typeof(ab.onload)==="function"){k.addListener(U,"load",ab.onload)}var X=Y||s.widgetContainer;X.appendChild(U);T[W]=U;try{U.contentWindow.name}catch(Z){c.eLog(Z);U.src='javascript:(function () {document.open();document.domain="'+a.domain+'";document.close();})();'}return U},get:function(U){return T[U]},resize:function(V,U,W){var X=c.IFRAMES.get(V);X.style.height=U+"px"},remove:function(U){var V=c.IFRAMES.get(U);if(V){if(V.parentNode){V.parentNode.removeChild(V)}}if(d.frames[U]){delete d.frames[U]}delete T[U]},creatCallbackFrame:function(X,V,aa,U){var Z={};if(typeof(U)==="function"){Z.onload=function(){c.withELog(function(){var ad=T[X];if(!ad.widgetCallBackStatus||ad.widgetCallBackStatus===0){ad.widgetCallBackStatus=1}else{if(ad.widgetCallBackStatus===1){ad.contentWindow.location="about:blank";ad.widgetCallBackStatus=2}else{if(ad.widgetCallBackStatus===2){var ae=(new Date()).getTime()+"CB";if(!c.IFRAMES.CB){c.IFRAMES.CB={}}c.IFRAMES.CB[ae]=function(af){setTimeout(function(){if(af!==e&&af!==""){try{var ah=k.parseJSON(af);if(ah!==null){if(ah.eventName!==e){U(ah.eventName,ah.data)}}}catch(ag){c.eLog(ag)}}ad.widgetCallBackStatus=0;c.IFRAMES.remove(X);ad=c.IFRAMES.creatCallbackFrame(X,V,aa,U)},10)};try{var ab=ad.contentWindow.name;c.IFRAMES.CB[ae](ab)}catch(ac){c.eLog(ac);ad.src="javascript:(function () {document.write('<script>var _data=window.name;document.domain=\""+a.domain+'";setTimeout(function(){window.parent.webengage.IFRAMES.CB["'+ae+"\"](_data);}, 10);<\/script>')})();"}}}}})}}var Y=c.IFRAMES.create(X,V,Z);var W=Y.style;W.height=0;W.width=0;if(aa){Y.src=aa}return Y}}})());k.extend("notification",(function(){var Y=[],X,U=function(ag,af,ae,aa){var ai=this;if(ag||ai._notificationOptions.previewJson!==e){ai.notificationId=ai.notificationEId=ag;ai.showOnExit=aa;ai.layout=af||(ai._notificationOptions.previewJson&&ai._notificationOptions.previewJson.layout?ai._notificationOptions.previewJson.layout:"");var ah=ai.executeCallbacks("run",ai);if(typeof ah==="boolean"&&!ah){return}var ac=c.IFRAMES.create(s.widgetContainerId+"-notification-frame",s.widgetContainer);ac.style.top="-1000px";ac.style.left="-1000px";var ak=k.getSessionCookie();var ad=null;if(ac.contentDocument){ad=ac.contentDocument}else{if(ac.contentWindow){ad=ac.contentWindow.document}else{if(ac.document){ad=ac.document}}}ad.open();var ab=(ai.layout===""?"notification-base.css":ai.layout+"-notification-base.css");var Z=(c.BrowserDetect.ie()&&c.BrowserDetect.version()<8)?'<link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.css?v=555.0" media="screen"/><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.js?v=555.0"><\/script><style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";var aj=(c.BrowserDetect.ie()&&c.BrowserDetect.version()===8)?'<style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";ad.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="cache-control" content="max-age=0" /><meta http-equiv="cache-control" content="no-cache" /><meta http-equiv="pragma" content="no-cache" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><link id="widget-font-id" rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font.css?v=555.0" media="screen"/><link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/webengage/notification/'+ab+'?v=555.0" media="screen"/>'+Z+aj+'<script type="text/javascript">try{window.parent.window.name}catch(e){document.domain="'+a.domain+'";};<\/script><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js"><\/script></head><body class="notification-body"><script type="text/javascript">window.onload = function () { (function(d){ var _script = d.createElement("script"); _script.type = "text/javascript"; _script.src = "'+s.widgetDomain+s.notificationWidgetScriptUrl+'"; d.body.appendChild(_script); })(document);};<\/script></body></html>');ad.close();c.setTimeout(function(){if(ai._notificationOptions.previewJson!==e){ad.$NotificationWidgetInitializer={currentInstance:ai,notificationVersion:ae,containerId:s.widgetContainerId,licenseCode:r,appHost:s.baseWebEngageUrl,widgetDomain:s.widgetDomain,previewJson:ai._notificationOptions.previewJson}}else{ad.$NotificationWidgetInitializer={currentInstance:ai,notificationVersion:ae,containerId:s.widgetContainerId,licenseCode:r,appHost:s.baseWebEngageUrl,widgetDomain:s.widgetDomain,browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),os:c.BrowserDetect.os(),country:ak.country||"",city:ak.city||"",region:ak.region||"",pageTitle:a.title,ip:ak.ip,referrer:a.referrer}}},0)}},T=function(ae,aa,ag){if(ae&&ae.length>0){var ak=(new Array()).concat(ae);var au=ak[0],ao=k.getWebengageCookie(),ai=k.getSessionCookie(),Z=au,aq=aa[Z].layout,ac=(webengage_fs_configurationMap.config.notificationConfig.wl?"W":"N")+aa[Z].version,an=aa[Z].ruleCode,ab=(!ag._notificationOptions.skipRules&&typeof aa[Z].showOnExit==="boolean"?aa[Z].showOnExit:false),ad=((ag._notificationOptions.skipRules||ab)?0:((aa[Z].totalTimeOnSite?aa[Z].totalTimeOnSite-((new Date()).getTime()-(ai.sst||0)):0))),at=((ag._notificationOptions.skipRules||ab)?0:((parseInt(ag._notificationOptions.delay,10)>=0)?parseInt(ag._notificationOptions.delay,10):Math.max(ad,aa[Z].timespent))),af=aa[Z].skipTargetPage,al=aa[Z].actionLinks,ar=aa[Z].maxTimesPerUser,aj=aa[Z].mobile;if(!ag._notificationOptions.isDemoMode){if(typeof aj!=="undefined"&&aj&&!c.BrowserDetect.isMobile()){ak.splice(0,1);return T(ak,aa,ag)}if(!ag._notificationOptions.forcedRender&&((ai&&ai.closedNIds!==e&&ai.closedNIds.indexOf("##"+Z)>=0)||(ao&&ao.takenNIds!==e&&ao.takenNIds.indexOf("##"+Z)>=0))){ak.splice(0,1);return T(ak,aa,ag)}if(af&&al&&al.length>0){for(var ap=0;ap<al.length;ap++){var ah=a.createElement("a");ah.href=al[ap];al[ap]="^"+k.escapeForRegExp(ah.href)+"$";ah=null}if(c.ruleExecutor.util.isMatches(k.getClientPageUrl(),al)){ak.splice(0,1);return T(ak,aa,ag)}}var am=c.util.getTotalTimesShown(Z,"notification");if(!ag._notificationOptions.isDemoMode&&!ag._notificationOptions.forcedRender&&ar!==e){if(ar<=am){ak.splice(0,1);return T(ak,aa,ag)}}aa[Z]["timeSpent"]=at;aa[Z]["showOnExit"]=ab;W(Z,aa[Z],ag,function(){ak.splice(0,1);return T(ak,aa,ag)})}else{aa[Z]["timeSpent"]=at;aa[Z]["showOnExit"]=ab;V(Z,aa[Z],ag)}}else{c.events.publish("storeChange")}},W=function(ae,Z,af,ai){try{if(Z.startTimestamp||Z.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var ag=k.getServerTimeStamp(),ad=Z.startTimestamp,aa=Z.endTimestamp;if(aa<ag||ag<ad){return ai()}}}if((af._notificationOptions.skipRules)||(!Z.ruleR1Code)||(c.ruleExecutor.execute(ae,Z.ruleR1Code,af._notificationOptions.ruleData))){var ab=af.startExecutionTime?(new Date()).getTime()-af.startExecutionTime:0;af.totalTimeElapsed=af.totalTimeElapsed+ab;if(typeof X==="undefined"){X=Z.order}if(X===Z.order){var ah=(function(ak,al,aj){return function(){var an=al.sampling||100;var am=c.ruleExecutor.util.sampling(ak);if(an>=am){return V(ak,al,aj)}else{c.util.markEntityAsShown(ak,"notification",aj,true);c.setTimeout(function(){aj.dump("abs_view",{id:ak})},10);return ai()}}})(ae,Z,af);if(af._notificationOptions.skipRules||!Z.ruleR2Code){ah();return}if(Z.showOnExit){V(ae,Z,af)}c.ruleExecutor.pushToQueue(Z.ruleR2Code,ah)}}return ai()}catch(ac){if(ac&&ac.type){c.ruleExecutor.util.loadDependency(ac.type,Z,function(){W(ae,Z,af,ai)},ai)}else{c.eLog(ac);ai()}}},V=function(ad,ab,ac){if(ac.rendered||(ab.showOnExit&&ac.pfnId&&ac.pfnId!==ad)){return}var aa=ab.timeSpent||0;var af=(function(ai,ag,ah){return function(){k.withWeJquery(function(){c.setTimeout(function(){U.apply(ah,[ai,ag.layout,ag.version,ag.showOnExit])},(ag.showOnExit?0:((aa-ah.totalTimeElapsed)<0?0:(aa-ah.totalTimeElapsed))))})}})(ad,ab,ac);if(ac.pfnId&&ac.pfnId===ad){var Z=0;var ae=setInterval(function(){Z++;if(typeof ac.animateNotification==="function"){clearInterval(ae);ac.animateNotification()}if(Z>25){clearInterval(ae)}},200)}else{if(ab.showOnExit){ac.pfnId=ad}c.GEO.load(af,af)}};return{cbid:1,render:function(Z){return c.withELog(function(){return(new function(){c.notification.clear();X=e;var af=this;af.cbid=1;Y[Y.length]=af;af.abort=function(){k.abortInstance(this)};var ab={notificationId:l["webengage.notification.notificationId"]||"",skipRules:l["webengage.notification.skipRules"]||false,delay:l["webengage.notification.delay"]||-1,isDemoMode:l["webengage.notification.isDemoMode"]||l["webengage.isDemoMode"]||false,customData:k.copy({},l["webengage.notification.customData"]||l["webengage.customData"]||{}),ruleData:k.copy({},l["webengage.notification.ruleData"]||l["webengage.ruleData"]||{}),tokens:l["webengage.notification.tokens"]||l["webengage.tokens"]||{},previewJson:l["webengage.notification.previewJson"],forcedRender:l["webengage.notification.forcedRender"]||false,enableCallbacks:l["webengage.notification.enableCallbacks"]||l["webengage.enableCallbacks"]||false};var ac={data:"customData",demo:"isDemoMode"};if(Z!==e&&!k.isEmptyObject(Z)){for(var aa in Z){var ag=ac[aa];if(ag!==e&&ag){Z[ag]=Z[aa];delete Z[aa]}}}if(Z&&Z.customData){ab.customData=k.copy(ab.customData,Z.customData,true);delete Z.customData}if(Z&&Z.ruleData){ab.ruleData=k.copy(ab.ruleData,Z.ruleData,true);delete Z.ruleData}af._notificationOptions=k.copy(ab,(Z?Z:{}),true);af.enableCallbacks=(typeof af._notificationOptions.enableCallbacks==="boolean"?af._notificationOptions.enableCallbacks:false);k.copy(af,F,true);af.onRun((af._notificationOptions.onRun||l["webengage.notification.onRun"]));af.onLoad((af._notificationOptions.onLoad||l["webengage.notification.onLoad"]));af.onClick((af._notificationOptions.onClick||l["webengage.notification.onClick"]));af.onClose((af._notificationOptions.onClose||l["webengage.notification.onClose"]));af.onOpen((af._notificationOptions.onOpen||l["webengage.notification.onOpen"]));c.notification.addToInstance(af);k.attachEventListners("notification",af);af.dump=function(an,ak){var am=this;var aj={id:am.notificationId,layoutId:am.layout},al={};k.copy(aj,ak||{},true);aj.tvc=k.getTotalTimesShown(aj.id,"notification",false,(an==="abs_view"?true:false));aj.tvcs=k.getTotalTimesShown(aj.id,"notification",true,(an==="abs_view"?true:false));if(!k.isEmptyObject(am._notificationOptions.tokens)){aj.tokens=k.copy({},am._notificationOptions.tokens)}if(!k.isEmptyObject(am._notificationOptions.ruleData)){aj.ruleData=am._notificationOptions.ruleData}if(am.clickedCTA){aj.cta=am.clickedCTA}this.executeCallbacks("dump",aj,an);if(!k.isEmptyObject(am._notificationOptions.customData)){al=am._notificationOptions.customData}c.dump("notification_"+an,al,aj)};if(af._notificationOptions.previewJson!==e){k.withWeJquery(function(){U.apply(af)})}else{if(E.notification&&(E.notification.isEnabled||af._notificationOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&E.sslEnabled))&&!E.isNQuotaOver){var ah=E.notification.order,ad=E.notification.ruleMap;af.totalTimeElapsed=0;var ae=af._notificationOptions.notificationId;if(ae&&ad[ae]){var ai=[];ai[0]=ae;ah=ai}af.startExecutionTime=(new Date()).getTime();T(ah,ad,af)}else{if(E.notification&&E.notification.isEnabled&&a.location.protocol=="https:"&&!E.sslEnabled){c.eLog(null,"error","Notification - Widget turned off for SSL encrypted page","Notification - Widget turned off for SSL encrypted page")}}}})})},getNotificationFrame:function(){return a.getElementById(s.widgetContainerId+"-notification-frame")},resize:function(ab){var aa=a.getElementById(s.widgetContainerId+"-notification-frame");aa.height=ab.height||aa.contentWindow.document.body.scrollHeight;aa.width=ab.width||aa.contentWindow.document.body.scrollWidth;var Z=aa.style;Z.visibility="visible";Z.height=parseInt(ab.height||aa.contentWindow.document.body.scrollHeight)+"px";Z.width=parseInt(ab.width||aa.contentWindow.document.body.scrollWidth)+"px";Z.top="auto";Z.bottom="0px";Z.left="auto";if("right"==ab.launchType){Z.right="0px"}else{Z.left="0px"}},clear:function(){var Z=this;c.withELog(function(){try{c.IFRAMES.remove(s.widgetContainerId+"-notification-frame")}catch(aa){}Y=[]})},abort:function(){k.abortAllInstances(Y)},attachEventListner:function(){var Z=this,aa=arguments;c.withELog(function(){k.bind.apply(Z,aa);if(Y.length>0){for(var ab=0;ab<Y.length;ab++){Y[ab].enableCallbacks=true;k.bind.apply(Y[ab],aa)}}})}}})());k.extend("",{abort:function(){c.withELog(function(){c.feedback.abort();c.survey.abort();c.notification.abort()})}});k.extend("",{init:function(T){if(c.__v&&c.__v==="5.0"){l["webengage.licenseCode"]=T;l["webengage.widgetVersion"]=c.__v}else{var U=function(V){if(T[V]!==e&&T[V]){l["webengage."+V]=T[V]}};U("licenseCode");U("language");U("isDemoMode");U("delay");l["webengage.widgetVersion"]="3.0"}y();return c}});k.extend("",{screen:function(){var T,U;if(arguments.length===2){T=arguments[0];U=arguments[1]}else{if(arguments.length===1){if(Object.prototype.toString.call(arguments[0])==="[object String]"){T=arguments[0]}else{U=arguments[0]}}}O=T||"";if(Object.prototype.toString.call(U)==="[object Object]"){l["webengage.customData"]=c.util.copy(l["webengage.customData"]||{},U);l["webengage.ruleData"]=c.util.copy(l["webengage.ruleData"]||{},U);l["webengage.tokens"]=c.util.copy(l["webengage.tokens"]||{},U)}}});k.extend("",{app:{getConfig:function(V){if(!V||!webengage_fs_configurationMap||!(webengage_fs_configurationMap.apps instanceof Array)){return null}for(var T=0,U=webengage_fs_configurationMap.apps;T<U.length;T++){if(U[T].appEId===V){return U[T].widgetConfig||null}}return null}}});function y(){if(l["webengage.licenseCode"]!==e&&l["webengage.licenseCode"]){k.onDocReady(function(){x();c.frameSync.init(function(){c.util.withCookies(["_we_wk_ls_","_we_wk_ss_"],D)})})}}k.extend("",{onReady:function(T){if(T!==e&&typeof T==="function"){k.onReady(T)}}});k.extend("",{render:function(T){if(T){if(T.showFeedbackByDefault!==e&&!T.showFeedbackByDefault){l["webengage.feedback.defaultRender"]=false}if(T.showSurveyByDefault!==e&&!T.showSurveyByDefault){l["webengage.survey.defaultRender"]=false}if(T.showNotificationByDefault!==e&&!T.showNotificationByDefault){l["webengage.notification.defaultRender"]=false}}M()}});function p(T,U){if(T.substr(-11)===".customData"||T.substr(-9)===".ruleData"||T.substr(-7)===".tokens"){l[T]=k.copy(l[T]||{},U)}else{l[T]=U}}function i(V,U){for(var T in V){if(V.hasOwnProperty(T)){if(typeof V[T]!=="undefined"){p(U+"."+T,V[T])}}}}function I(T,V,U){if(typeof T==="object"){i(T,U)}else{if(typeof T==="string"){p(U+"."+T,V)}}}k.extend("",{options:function(T,U){I(T,U,"webengage")}});k.extend("survey",{options:function(T,U){I(T,U,"webengage.survey")},onOpen:function(T){if(typeof T==="function"){this.attachEventListner("onOpen",T)}},onClose:function(T){if(typeof T==="function"){this.attachEventListner("onClose",T)}},onSubmit:function(T){if(typeof T==="function"){this.attachEventListner("onSubmit",T)}},onComplete:function(T){if(typeof T==="function"){this.attachEventListner("onComplete",T)}},addToInstance:function(T){if(typeof this.callbacks!==e){for(var W in this.callbacks){var U=this.callbacks[W];if(typeof U!=="undefined"){for(var V in U){if(typeof T[W]!=="undefined"){T[W](U[V])}}}}}}});k.extend("notification",{options:function(T,U){I(T,U,"webengage.notification")},onOpen:function(T){if(typeof T==="function"){this.attachEventListner("onOpen",T)}},onClose:function(T){if(typeof T==="function"){this.attachEventListner("onClose",T)}},onClick:function(T){if(typeof T==="function"){this.attachEventListner("onClick",T)}},addToInstance:function(T){if(typeof this.callbacks!==e){for(var W in this.callbacks){var U=this.callbacks[W];if(typeof U!=="undefined"){for(var V in U){if(typeof T[W]!=="undefined"){T[W](U[V])}}}}}}});k.extend("feedback",{options:function(T,U){I(T,U,"webengage.feedback")},onOpen:function(T){if(typeof T==="function"){this.attachEventListner("onOpen",T)}},onClose:function(T){if(typeof T==="function"){this.attachEventListner("onClose",T)}},onSubmit:function(T){if(typeof T==="function"){this.attachEventListner("onSubmit",T)}},addToInstance:function(T){if(typeof this.callbacks!==e){for(var W in this.callbacks){var U=this.callbacks[W];if(typeof U!=="undefined"){for(var V in U){if(typeof T[W]!=="undefined"){T[W](U[V])}}}}}}});var x=function(){var U=a.createElement("webengagedata");a.body.insertBefore(U,null);s.weDataContainer=U;try{var X=a.createElement("style");var V=a.createTextNode("#webklipper-publisher-widget-container, #webklipper-publisher-widget-container * {overflow:visible; -webkit-box-sizing: content-box; -moz-box-sizing: content-box;  box-sizing: content-box;}");X.type="text/css";if(X.styleSheet){X.styleSheet.cssText=V.nodeValue}else{X.appendChild(V)}s.weDataContainer.appendChild(X)}catch(W){}var T=a.createElement("div");T.setAttribute("id",s.widgetContainerId);s.weDataContainer.appendChild(T);s.widgetContainer=T};var D=function(){r=l["webengage.licenseCode"];try{if(c.frameSync.verify){var ak=k.getCookie("_we_wk_chck_"+l["webengage.licenseCode"]+"_",true),al=ak?ak.split("|"):[null,null,null,0,0],ad=al[0],X=al[1],ab={luid:"NP",tpvc:"NP"},Y={suid:"NP",pvc:"NP",landingPage:"NP",chckURL:"NP"},ac=k.getCookie("_we_wk_ss_lsf_",true),W=f._we_wk_ls_,aa=f._we_wk_ss_,U=c.LZString.decompressFromBase64(k.getCookie("_we_wk_ls_")||""),Z=c.LZString.decompressFromBase64(k.getCookie("_we_wk_ss_")||""),T=c.LZString.decompressFromBase64(k.getCookie("_we_wk_ls_",true)||""),V=c.LZString.decompressFromBase64(k.getCookie("_we_wk_ss_",true)||""),ag=[],ae=0,af=0;al[3]=parseInt(al[3]||0);al[4]=parseInt(al[4]||0);U=U?k.parseJSON(U):null;Z=Z?k.parseJSON(Z):null;T=T?k.parseJSON(T):null;V=V?k.parseJSON(V):null;if(c.frameSync.status){if(W&&ad&&W.luid!==ad){ae|=1}if(aa&&X&&String(aa.suid)!==X){af|=1}}else{c.eLog(null,"exception",c.frameSync.data||"",c.frameSync.message);al[3]+=1}if(U&&ad&&U.luid!==ad){ae|=2}if(Z&&X&&String(Z.suid)!==X){af|=2}}}catch(aj){}var ah=k.getWebengageCookie(true);if(!ah){ah=k.setWebengageCookie()}else{if(!ah.luid){ah=k.setWebengageCookie(ah)}}var ai=k.getSessionCookie(true);if(!ai||!ai.suid){ai=k.setSessionCookie(ai,true);ah=k.updateTSC()}try{if(c.frameSync.verify){if(ad&&ah.luid!==ad){al[0]=ah.luid;ae|=4}else{if(!ad){al[0]=ah.luid}}if(X&&String(ai.suid)!==X){al[1]=ai.suid;af|=4}else{if(!X){al[1]=ai.suid}}if(ae>0||af>0){W=W||ab;U=U||ab;T=T||ab;aa=aa||Y;Z=Z||Y;V=V||Y;ag.push("WLS:"+[W.luid,aa.suid,W.tpvc,aa.pvc,aa.landingPage.substring(0,60),aa.chckURL.substring(0,60)].join(" "));ag.push("LLS:"+[U.luid,Z.suid,U.tpvc,Z.pvc,Z.landingPage.substring(0,60),Z.chckURL.substring(0,60)].join(" "));ag.push("LCK:"+[T.luid,V.suid,T.tpvc,V.pvc,V.landingPage.substring(0,60),V.chckURL.substring(0,60)].join(" "));ag.push("MG:"+[ah.luid,ai.suid,ah.tpvc,ai.pvc,ai.landingPage.substring(0,60),ai.chckURL.substring(0,60)].join(" "));ag.push("VCK:"+[ad,X,"NP",al[4],"NP",al[2]].join(" "));ag.push("FS.S:"+(c.frameSync.message||"Loaded"));ag.push("PSF:"+al[3]);ag.push("DR:"+a.referrer);ag.push("LSF:"+ac);c.eLog(null,"exception",ag.join("\n"),"("+ae+af+") Storage UID mismatch")}al[2]=d.location.href.substring(0,60);al[4]+=1;k.onReady(function(){k.setCookie("_we_wk_chck_"+l["webengage.licenseCode"]+"_",al.join("|"),"","/",webengage_fs_configurationMap.domain.replace(/^www\./,""),"",true)})}}catch(aj){}ah=k.updateTPVC();if(typeof ah.isGzip==="undefined"){if(typeof l.isGzip!="undefined"){ah=k.setGZIPFlag((l.isGzip?true:false));N(ah.isGzip,ah.luid,ai.suid)}else{k.loadScript.apply(s.widgetContainer,["//z.webengage.com/gz.js",function(){ah=k.setGZIPFlag((typeof l.isGzip!="undefined"&&l.isGzip?true:false));N(ah.isGzip,ah.luid,ai.suid)}])}}else{N(ah.isGzip,ah.luid,ai.suid)}};var N=function(U,V,T){d.webengage.setTimeout(function(){var Z=(U?"webengage-zfiles":"webengage-files"),W=Math.floor((new Date()).getTime()/60000);var X="//s3.amazonaws.com/"+Z+"/webengage/"+r+"/v4.js?r="+W+"&u="+V+"|"+T;var Y=function(){var aa=c.setInterval(function(){if(typeof webengage_fs_configurationMap!=="undefined"&&webengage_fs_configurationMap.config){clearInterval(aa);if(((webengage_fs_configurationMap.sites!==e&&webengage_fs_configurationMap.sites)||(webengage_fs_configurationMap.domain!==e&&webengage_fs_configurationMap.domain))&&!l["webengage.isDemoMode"]){var ai=false;var ac=k.getClientPageHost(),af;if(ac.match(/\:[\d]*$/)){af=ac.substring(ac.indexOf(":")+1,ac.length);ac=ac.substring(0,ac.indexOf(":"))}var ao=[];var aj=[];if(webengage_fs_configurationMap.sites===e||!webengage_fs_configurationMap.sites){webengage_fs_configurationMap.sites={};webengage_fs_configurationMap.sites[webengage_fs_configurationMap.domain]="DOMAIN"}for(var am in webengage_fs_configurationMap.sites){var ak=am,an;if(webengage_fs_configurationMap.sites[am]=="DOMAIN"){ao[ao.length]=ak;if(ak.match(/^www\./i)){ak=ak.substring(4,ak.length)}if(ak.match(/\:[\d]*$/)){an=ak.substring(ak.indexOf(":")+1,ak.length);ak=ak.substring(0,ak.indexOf(":"))}if((ac.match(new RegExp(k.escapeForRegExp(ak)+"$","gi"))&&(!an||an==af))){ai=true;break}}else{if(webengage_fs_configurationMap.sites[am]=="REGEXP"){var ae=ak;aj[aj.length]=ak;if((k.getClientPageUrl().match(ae))){ai=true;break}}}}for(var am in webengage_fs_configurationMap.events){var ab=webengage_fs_configurationMap.events[am],ah=[am];if(ab){if(ab instanceof Array){ah=ah.concat(ab)}else{ah.push(ab)}}c.events.register.apply(null,ah)}c.events.subscribe("storeChange",c.ruleExecutor.storeListener);ai=(l["webengage.notification.previewJson"]?true:ai);if(!ai){var ag='The <a style="color: #00f;" href="http://webengage.com/" target="_blank">WebEngage (Survey, Feedback &amp; Notification)</a> widget on this page is incorrectly configured. It is meant for use only on ';if(ao.length>0){ag+="<b>"+ao.join(", ")+"</b>"}if(aj.length>0){if(ao.length>0){ag+=(" and ")}ag+=("pages with URLs that matches following regular expression(s) <b>"+aj.join(", ")+"</b>")}c.logger.error(ag+".");return}}s.publisherTimeZoneOffset=webengage_fs_configurationMap.tzo;k.copy(E,(function(ap){return{configurationMap:ap?ap:{}}})(webengage_fs_configurationMap));var al=k.getSessionCookie(),ad=k.getWebengageCookie();if(!l["webengage.isDemoMode"]&&!al.vtd){c.dump("visitor_new_session",null,{lp:a.location.href});k.setVTD();k.setLST()}t(Z)}},1)};if(typeof webengage_fs_configurationMap!=="undefined"&&webengage_fs_configurationMap){Y()}else{k.loadScript.apply(s.widgetContainer,[X,Y,null,function(){}])}},(l["webengage.delay"]&&parseInt(l["webengage.delay"])>0?parseInt(l["webengage.delay"]):0))},w=function(X,T,V,W){var U="//s3.amazonaws.com/"+X+"/webengage/"+r+"/"+T[V]+".js?r="+W[V];k.loadScript.apply(s.widgetContainer,[U,function(){if(V==(T.length-1)){z(X)}else{w.apply(this,[X,T,(V+1),W])}}])},K=function(aa){var V=l["webengage.customWidgetCode.ruleData"]||l["webengage.ruleData"]||{};var U=[];var W=[];if(webengage_fs_configurationMap.cwcRuleList){var Y=webengage_fs_configurationMap.cwcRuleList;for(var X=0;X<Y.length;X++){var Z=Y[X].ruleCode;if(Z){if(!c.ruleExecutor.execute(Y[X].cwcEncId,Z,V)){continue}}var T=U.length;U[T]=Y[X].cwcEncId;W[T]=Y[X].lastModifiedTimestamp}}if(U.length>0){w.apply(this,[aa,U,0,W])}else{z(aa)}},R=function(T){if(c.BrowserDetect.browser$()!=="google-bot"&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&webengage_fs_configurationMap.sslEnabled))){k.usckwl(webengage_fs_configurationMap.domain);if(webengage_fs_configurationMap.cwcRuleList&&webengage_fs_configurationMap.cwcRuleList.length>0){K(T)}else{z(T)}}else{if(a.location.protocol=="https:"&&!E.sslEnabled){c.eLog(null,"error","Widget turned off for SSL encrypted page","CustomWidgetCode - Widget turned off for SSL encrypted page")}}},z=function(V,U){if(!U){U=webengage_fs_configurationMap.apps instanceof Array?webengage_fs_configurationMap.apps.slice():[]}if(U.length>0){var T="//s3.amazonaws.com/"+V+"/appJS/"+U[0].appEId+".js?r=";k.loadScript.apply(s.widgetContainer,[T,function(){U.splice(0,1);z(V,U)}])}else{q()}},t=function(T){c.UserProfile.load(function(){R(T)},function(){R(T)})},q=function(){(function(U){k.extend("widgetConfiguration",{});if(U&&U.config){k.copy(E,{feedback:{isEnabled:(typeof U.config.enableFeedback=="boolean"&&U.config.enableFeedback),config:U.config.feedbackConfig?U.config.feedbackConfig:{}}},true);k.copy(E,{survey:{isEnabled:(typeof U.config.enableSurvey=="boolean"&&U.config.enableSurvey),config:U.config.surveyConfig?U.config.surveyConfig:{},order:[],ruleMap:{}}},true);(function(Y){if(U.surveyRuleList){var W=U.surveyRuleList;for(var X=0;X<W.length;X++){Y.order[X]=W[X].surveyEncId;Y.ruleMap[W[X].surveyEncId]=W[X];Y.ruleMap[W[X].surveyEncId]["showOnExit"]=W[X].pf}}})(E.survey);k.copy(E,{notification:{isEnabled:(typeof U.config.enableNotification=="boolean"&&U.config.enableNotification),order:[],ruleMap:{}}},true);(function(aa){if(U.notificationRuleList){var ab=U.notificationRuleList;for(var X=0;X<ab.length;X++){aa.order[X]=ab[X].notificationEncId;var Y=ab[X].sessionRuleCode,W=ab[X].pageRuleCode||"",Z=ab[X].eventRuleCode||"";if(Y&&!ab[X].ecp){W=(W?W+" && ":"")+Y}else{if(Y&&ab[X].ecp){Z=(Z?Z+" && ":"")+Y}}aa.ruleMap[ab[X].notificationEncId]={events:ab[X].events,ruleR1Code:W,ruleR2Code:Z,ruleCode:ab[X].ruleCode,timespent:parseInt(ab[X].timeSpent)!="NaN"?parseInt(ab[X].timeSpent):0,totalTimeOnSite:parseInt(ab[X].totalTimeOnSite)!="NaN"?parseInt(ab[X].totalTimeOnSite):0,actionLinks:ab[X].actionLinks||[],skipTargetPage:typeof(ab[X].skipTargetPage)=="boolean"?ab[X].skipTargetPage:false,maxTimesPerUser:ab[X].maxTimesPerUser,startTimestamp:ab[X].startTimestamp,endTimestamp:ab[X].endTimestamp,layout:ab[X].layout,version:((typeof ab[X].v!="undefined")?ab[X].v:0),showOnExit:ab[X].pf,mobile:ab[X].mobile,sampling:ab[X].sampling,order:ab[X].order}}}})(E.notification);k.copy(E,{sslEnabled:(U.sslEnabled?U.sslEnabled:false),isSRQuotaOver:(U.isSRQ?U.isSRQ:false),isNQuotaOver:(U.isNQ?U.isNQ:false),isFQuotaOver:(U.isFQ?U.isFQ:false)},true)}u();var V=false;function T(){if(V){V=false;return}var W=[];h=true;if(l["webengage.onReady"]!==e&&typeof l["webengage.onReady"]==="function"){W[W.length]=l["webengage.onReady"]}W[W.length]=m;W[W.length]=A;W[W.length]=v;if(l["webengage.widgetVersion"]!=="3.0"){W[W.length]=M}var X=function(aa){for(var Z=0,Y=aa.length;Z<Y;Z++){if(typeof aa[Z]==="function"){try{aa[Z].call(c)}catch(ab){setTimeout(function(){throw ab},1)}}else{if(k.isArray(aa[Z])){X(aa[Z])}}}};X(W);v=[];c.util.addListener(d,"beforeunload",function(){c.withELog(function(){c.winUnloading=true;if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11){k.setWebengageCookie(k.getWebengageCookie());k.updateSessionCookie(k.getSessionCookie())}})})}if(U&&U.goals!==e&&U.goals instanceof Array){V=true;k.loadScript.apply(s.widgetContainer,[s.csUrl,function(){if(c.goals&&typeof c.goals.init==="function"){c.goals.init(U)}T()}])}if(U&&U.GAEnabled){if((l["GA.universalAnalyticsFunction"]&&typeof d[l["GA.universalAnalyticsFunction"]]==="function")||typeof d.ga==="function"||d._gaq){k.loadScript.apply(s.widgetContainer,[s.gaCallbacksScriptUrl,T,null,T])}else{c.eLog(l["webengage.licenseCode"],"error","_gaq/ga undefined - not loading ga-callback-helper","_gaq/ga undefined");T()}}else{T()}})(E.configurationMap)},M=function(){var T=function(V){var U=typeof l["webengage."+V+".defaultRender"]==="boolean"?l["webengage."+V+".defaultRender"]:l["webengage.defaultRender"];return(typeof U==="boolean"?U:true)};if(T("feedback")){setTimeout(function(){c.feedback.render()},1)}if(T("survey")){setTimeout(function(){c.survey.render()},1)}if(T("notification")){setTimeout(function(){c.notification.render()},1)}};function A(X){function W(Z){var ac=Z.split("."),ad=c,ab=d;for(var aa=0;aa<ac.length;aa++){if(typeof ad==="undefined"){break}else{ab=ad;ad=ad[ac[aa]];ad.parent=ab}}return ad}if(c.__queue&&c.__queue.length>0){for(var U=0;U<c.__queue.length;U++){var V=c.__queue[U];if(V&&V[0]){var Y=W(V[0]),T=V[1];if(Y&&typeof Y==="function"){if(X){if(Y===X){c.__queue[U]=null;Y.apply(Y.parent,T)}}else{Y.apply(Y.parent,T)}}}}if(!X){c.__queue=[]}}}if(d.webengageWidgetInit!==e&&typeof d.webengageWidgetInit==="function"){try{d.webengageWidgetInit()}catch(Q){setTimeout(function(){throw Q},1)}}else{var P=a.getElementsByTagName("webengage")[0];if(P&&P.attributes){var H=P.attributes;l["webengage.licenseCode"]=H.license.value;l["webengage.language"]=(H.language?H.language.value:"");if(H.feedbackButtonAlignment){l["webengage.feedback.alignment"]=H.feedbackButtonAlignment.value}if(H.feedbackExternalLinkId){l["webengage.feedback.externalLinkId"]=H.feedbackExternalLinkId.value}}A(c.options);A(c.init);if(l["webengage.widgetVersion"]==="4.0"&&l["webengage.licenseCode"]!==e&&l["webengage.licenseCode"]){y()}}var g=function(T){try{return sessionStorage.getItem(T)}catch(U){return null}};var J=function(T,U){try{sessionStorage.setItem(T,U)}catch(V){}};if(location.search.indexOf("libraryScript")>-1||g("webengage-library")=="true"){var o=new RegExp("[\\?&]libraryScript=([^&#]*)");var B=o.exec(location.search);var C;if(B!=null){C=decodeURIComponent(B[1]);J("webengage-library-script",C)}else{if(g("webengage-library-script")){C=g("webengage-library-script")}}J("webengage-library","true");if(C){k.onReady(function(){c.util.withWeJquery(function(){c.util.loadScript.apply(s.widgetContainer,["//d3701cc9l7v9a6.cloudfront.net/js/library/"+C+".js?v=555.0",function(){c.feedback.abort();c.survey.abort();c.notification.abort();J("webengage-library","true")}])})})}}c.reload=function(){m=[];h=false;c.feedback.clear();c.survey.clear();c.notification.clear();var T=a.getElementsByTagName("webengagedata")[0];if(T){T.parentNode.removeChild(T)}if(typeof webengage_fs_configurationMap!=="undefined"){webengage_fs_configurationMap=e}c.ruleExecutor.loadOperands();c.ruleExecutor.util.clearAllEventData();c.events.clearCallbacks();y()}};if(navigator.appName=="Microsoft Internet Explorer"){if(a.body&&(a.body.readyState=="loaded"||a.body.readyState=="complete")){b()}else{if(d.addEventListener){d.addEventListener("load",function(){b()},false)}else{if(d.attachEvent){d.attachEvent("onload",function(){b()})}}}}else{b()}c.getUser=function(){var f=c.util.getSessionCookie();return{pageUrl:d.location.href,pageTitle:a.title,referrer:(a.referrer||""),browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),platform:c.BrowserDetect.os(),ip:(f?f.ip:""),city:(f?f.city:""),country:(f?f.country:"")}}})(window,document,webengage)},10);